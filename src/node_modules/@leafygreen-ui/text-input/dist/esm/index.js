import e,{useState as r}from"react";import n from"prop-types";import{css as o,cx as t}from"@leafygreen-ui/emotion";import a from"@leafygreen-ui/icon/dist/Checkmark";import i from"@leafygreen-ui/icon/dist/CheckmarkWithCircle";import l from"@leafygreen-ui/icon/dist/Warning";import d from"@leafygreen-ui/interaction-ring";import{uiColors as s}from"@leafygreen-ui/palette";import{createDataProp as u}from"@leafygreen-ui/lib";import{useIdAllocator as p,useValidation as c}from"@leafygreen-ui/hooks";import{Label as g,Description as f}from"@leafygreen-ui/typography";import{jsx as b}from"@emotion/react";function m(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function h(){return(h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function y(e,r){if(null==e)return{};var n,o,t=function(e,r){if(null==e)return{};var n,o,t={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function x(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function v(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,t,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!r||a.length!==r);i=!0);}catch(e){l=!0,t=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw t}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return k(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,o=new Array(r);n<r;n++)o[n]=e[n];return o}var C,w,O,z,B,N,S,j,F,H,T,E,M,A,V,I,P,D,L,U,W,X,q=["label","description","onChange","onBlur","placeholder","errorMessage","optional","disabled","state","type","id","value","className","darkMode","sizeVariant","aria-labelledby","handleValidation","baseFontSize"],K=u("icon-selector"),R={None:"none",Valid:"valid",Error:"error"},$={Email:"email",Password:"password",Search:"search",Text:"text",Url:"url",Tel:"tel",Number:"number"},G="light",J="dark",Q={XSmall:"xsmall",Small:"small",Default:"default",Large:"large"},Y=30,Z=o(C||(C=x(["\n  width: 100%;\n"]))),_=o(w||(w=x(["\n  display: flex;\n  flex-direction: column;\n"]))),ee=o(O||(O=x(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  z-index: 0;\n"]))),re=o(z||(z=x(["\n  width: 100%;\n  height: 36px;\n  border-radius: 4px;\n  padding-left: 12px;\n  font-size: 14px;\n  font-weight: normal;\n  font-family: Akzidenz, ‘Helvetica Neue’, Helvetica, Arial, sans-serif;\n  border: 1px solid;\n  transition: border-color 150ms ease-in-out;\n  z-index: 1;\n  outline: none;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n"])),s.gray.base),ne=o(B||(B=x(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  right: 12px;\n  z-index: 1;\n"]))),oe=o(N||(N=x(["\n  color: ",";\n"])),s.green.base),te=o(S||(S=x(["\n  color: ",";\n  font-size: 12px;\n  font-style: italic;\n  font-weight: normal;\n"])),s.gray.dark1),ae=o(j||(j=x(["\n  font-size: 14px;\n  min-height: 20px;\n  padding-top: 4px;\n  font-weight: normal;\n"]))),ie=(m(F={},G,{inputColor:s.gray.dark3,inputBackgroundColor:s.white,disabledColor:s.gray.base,disabledBackgroundColor:s.gray.light2,errorIconColor:s.red.base,errorMessage:s.red.base,errorBorder:s.red.base,optional:s.gray.dark1,defaultBorder:s.gray.base,validBorder:s.green.base}),m(F,J,{inputColor:s.white,inputBackgroundColor:"#394F5A",disabledColor:s.gray.dark1,disabledBackgroundColor:"#263843",errorIconColor:"#EF8D6F",errorMessage:"#EF8D6F",errorBorder:"#5a3c3b",optional:s.gray.light1,defaultBorder:"#394F5A",validBorder:"#394F5A"}),F),le=(m(E={},G,(m(H={},R.Error,s.red.light3),m(H,R.Valid,s.green.light3),H)),m(E,J,(m(T={},R.Error,s.red.dark2),m(T,R.Valid,s.gray.dark1),T)),E);function de(e){var r=e.state,n=e.optional,a=e.mode,i=e.disabled,l=e.sizeSet;switch(r){case R.Valid:return o(M||(M=x(["\n        padding-right: 30px;\n        border-color: ",";\n      "])),i?"inherit":ie[a].validBorder);case R.Error:return t(o(A||(A=x(["\n          padding-right: 30px;\n          border-color: ",";\n        "])),i?"inherit":ie[a].errorBorder),m({},o(V||(V=x(["\n            background-color: #5a3c3b;\n          "]))),a===J));default:return o(I||(I=x(["\n        padding-right: ","px;\n        border-color: ",";\n      "])),n?60:l.padding,ie[a].defaultBorder)}}var se=e.forwardRef((function(e,n){var s=e.label,u=e.description,k=e.onChange,C=e.onBlur,w=e.placeholder,O=e.errorMessage,z=e.optional,B=void 0!==z&&z,N=e.disabled,S=void 0!==N&&N,j=e.state,F=void 0===j?R.None:j,H=e.type,T=void 0===H?$.Text:H,E=e.id,M=e.value,A=e.className,V=e.darkMode,I=void 0!==V&&V,Y=e.sizeVariant,se=void 0===Y?Q.Default:Y,ue=e["aria-labelledby"],pe=e.handleValidation,ce=e.baseFontSize,ge=void 0===ce?14:ce,fe=y(e,q),be=I?J:G,me="string"==typeof M,he=v(r(""),2),ye=he[0],xe=he[1],ve=me?M:ye,ke=p({prefix:"textinput",id:E}),Ce=function(e,r){var n;return(m(n={},Q.XSmall,{inputHeight:22,inputText:12,text:14,lineHeight:20,padding:10}),m(n,Q.Small,{inputHeight:28,inputText:14,text:14,lineHeight:20,padding:10}),m(n,Q.Default,{inputHeight:36,inputText:e,text:e,lineHeight:20,padding:12}),m(n,Q.Large,{inputHeight:48,inputText:18,text:18,lineHeight:22,padding:16}),n)[r]}(ge,se),we=c(pe);"search"===T||s||ue||console.error("For screen-reader accessibility, label or aria-labelledby must be provided to TextInput."),"search"!==T||fe["aria-label"]||console.error("For screen-reader accessibility, aria-label must be provided to TextInput.");var Oe=I?i:a;return b("div",{className:t(_,A)},s&&b(g,{darkMode:I,htmlFor:ke,disabled:S,className:t(o(P||(P=x(["\n              font-size: ","px;\n            "])),Ce.text))},s),u&&b(f,{darkMode:I,className:t(o(D||(D=x(["\n              font-size: ","px;\n              line-height: ","px;\n            "])),Ce.text,Ce.lineHeight))},u),b("div",{className:ee},b(d,{className:Z,darkMode:I,disabled:S,ignoreKeyboardContext:!0,color:F===R.Valid||F===R.Error?{hovered:le[be][F]}:void 0},b("input",h({},fe,{"aria-labelledby":ue,type:T,className:t(re,o(L||(L=x(["\n                  color: ",";\n                  background-color: ",";\n                  font-size: ","px;\n                  height: ","px;\n                  padding-left: ","px;\n\n                  &:focus {\n                    border: 1px solid ",";\n                  }\n\n                  &:disabled {\n                    color: ",";\n                    background-color: ",";\n\n                    &:-webkit-autofill {\n                      &,\n                      &:hover,\n                      &:focus {\n                        appearance: none;\n                        border: 1px solid ",";\n                        -webkit-text-fill-color: ",";\n                        -webkit-box-shadow: 0 0 0px 1000px\n                          "," inset;\n                      }\n                    }\n                  }\n                "])),ie[be].inputColor,ie[be].inputBackgroundColor,Ce.inputText,Ce.inputHeight,Ce.padding,ie[be].inputBackgroundColor,ie[be].disabledColor,ie[be].disabledBackgroundColor,ie[be].defaultBorder,ie[be].disabledColor,ie[be].disabledBackgroundColor),de({state:F,optional:B,mode:be,disabled:S,sizeSet:Ce})),value:ve,required:!B,disabled:S,placeholder:w,onChange:function(e){k&&k(e),me||xe(e.target.value),we.onChange(e)},onBlur:function(e){C&&C(e),we.onBlur(e)},ref:n,id:ke,autoComplete:S?"off":(null==fe?void 0:fe.autoComplete)||"on","aria-invalid":"error"===F}))),b("div",h({},K.prop,{className:ne}),F===R.Valid&&b(Oe,{role:"presentation",className:oe}),F===R.Error&&b(l,{role:"presentation",className:o(U||(U=x(["\n                  color: ",";\n                "])),ie[be].errorIconColor)}),F===R.None&&B&&b("div",{className:t(te,o(W||(W=x(["\n                    color: ",";\n                  "])),ie[be].optional))},b("p",null,"Optional")))),F===R.Error&&O&&b("div",{className:t(ae,o(X||(X=x(["\n                color: ",";\n                font-size: ","px;\n                line-height: ","px;\n              "])),ie[be].errorMessage,Ce.text,Ce.lineHeight))},b("label",null,O)))}));se.displayName="TextInput",se.propTypes={id:n.string,label:n.string,description:n.string,optional:n.bool,disabled:n.bool,onChange:n.func,placeholder:n.string,errorMessage:n.string,state:n.oneOf(Object.values(R)),value:n.string,className:n.string,sizeVariant:n.oneOf(Object.values(Q)),baseFontSize:n.oneOf([14,16])};export default se;export{Y as BaseFontSize,Q as SizeVariant,R as State,$ as TextInputType};
//# sourceMappingURL=index.js.map
