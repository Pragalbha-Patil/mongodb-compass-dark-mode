{"version":3,"file":"index.js","sources":["../../src/UsingKeyboardContext.tsx","../../src/PortalContext.tsx","../../src/TypographyContext.tsx","../../src/LeafyGreenContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useEventListener } from '@leafygreen-ui/hooks';\n\ninterface UsingKeyboardState {\n  usingKeyboard: boolean;\n  setUsingKeyboard: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const UsingKeyboardContext = createContext<UsingKeyboardState>({\n  usingKeyboard: true,\n  setUsingKeyboard: () => {},\n});\n\n// All keys here are used to manage focus through keyboard interaction.\nexport const NavigationKeyCodes: { readonly [k: string]: number } = {\n  tab: 9,\n  leftArrow: 37,\n  upArrow: 38,\n  rightArrow: 39,\n  downArrow: 40,\n} as const;\n\nexport function useUsingKeyboardContext(): UsingKeyboardState {\n  return useContext(UsingKeyboardContext);\n}\n\ninterface UsingKeyboardProviderProps {\n  children?: React.ReactNode;\n}\n\nfunction UsingKeyboardProvider({ children }: UsingKeyboardProviderProps) {\n  const [usingKeyboard, setUsingKeyboard] = useState(false);\n\n  useEventListener('mousedown', () => setUsingKeyboard(false), {\n    enabled: usingKeyboard,\n  });\n\n  useEventListener(\n    'keydown',\n    ({ keyCode }) => {\n      if (Object.values(NavigationKeyCodes).includes(keyCode)) {\n        setUsingKeyboard(true);\n      }\n    },\n    { enabled: !usingKeyboard },\n  );\n\n  const providerValue = useMemo(\n    () => ({\n      usingKeyboard,\n      setUsingKeyboard,\n    }),\n    [usingKeyboard],\n  );\n\n  return (\n    <UsingKeyboardContext.Provider value={providerValue}>\n      {children}\n    </UsingKeyboardContext.Provider>\n  );\n}\n\nUsingKeyboardProvider.displayName = 'UsingKeyboardProvider';\n\nUsingKeyboardProvider.propTypes = { children: PropTypes.node };\n\nexport default UsingKeyboardProvider;\n","import React, { createContext, useContext } from 'react';\n\nexport interface PortalContextValues {\n  popover: {\n    portalContainer?: HTMLElement | null;\n    scrollContainer?: HTMLElement | null;\n  };\n}\n\nconst defaultPortalContextValues: PortalContextValues = {\n  popover: {\n    portalContainer: undefined,\n    scrollContainer: undefined,\n  },\n};\n\nconst PortalContext = createContext<PortalContextValues>(\n  defaultPortalContextValues,\n);\n\nexport function usePopoverPortalContainer() {\n  const { popover } = useContext(PortalContext);\n\n  return popover;\n}\n\ninterface PortalContext {\n  popover?: PortalContextValues['popover'];\n  children: React.ReactNode;\n}\n\nexport default function PortalContextProvider({\n  popover = defaultPortalContextValues.popover,\n  children,\n}: PortalContext) {\n  return (\n    <PortalContext.Provider value={{ popover }}>\n      {children}\n    </PortalContext.Provider>\n  );\n}\n","import React, { createContext, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nexport interface TypographyProviderProps {\n  children: React.ReactNode;\n  baseFontSize?: 14 | 16;\n}\n\nconst BaseFontSizeContext = createContext<14 | 16>(14);\n\nexport function useBaseFontSize() {\n  return useContext(BaseFontSizeContext);\n}\n\nfunction TypographyProvider({\n  children,\n  baseFontSize = 14,\n}: TypographyProviderProps) {\n  return (\n    <BaseFontSizeContext.Provider value={baseFontSize}>\n      {children}\n    </BaseFontSizeContext.Provider>\n  );\n}\n\nTypographyProvider.displayName = 'TypographyProvider';\n\nTypographyProvider.propTypes = {\n  children: PropTypes.node,\n  baseFontSize: PropTypes.number,\n};\n\nexport default TypographyProvider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport UsingKeyboardProvider from './UsingKeyboardContext';\nimport TypographyProvider, {\n  TypographyProviderProps,\n} from './TypographyContext';\nimport PortalContextProvider, { PortalContextValues } from './PortalContext';\n\ntype LeafyGreenProviderProps = {\n  children: React.ReactNode;\n  popoverPortalContainer?: PortalContextValues['popover'];\n} & TypographyProviderProps;\n\nfunction LeafyGreenProvider({\n  children,\n  baseFontSize,\n  popoverPortalContainer,\n}: LeafyGreenProviderProps) {\n  return (\n    <UsingKeyboardProvider>\n      <PortalContextProvider popover={popoverPortalContainer}>\n        <TypographyProvider baseFontSize={baseFontSize}>\n          {children}\n        </TypographyProvider>\n      </PortalContextProvider>\n    </UsingKeyboardProvider>\n  );\n}\n\nLeafyGreenProvider.displayName = 'LeafyGreenProvider';\n\nLeafyGreenProvider.propTypes = { children: PropTypes.node };\n\nexport default LeafyGreenProvider;\n"],"names":["UsingKeyboardContext","createContext","usingKeyboard","setUsingKeyboard","NavigationKeyCodes","tab","leftArrow","upArrow","rightArrow","downArrow","useUsingKeyboardContext","useContext","UsingKeyboardProvider","_ref","children","_useState2","_slicedToArray","useState","useEventListener","enabled","_ref2","keyCode","Object","values","includes","providerValue","useMemo","___EmotionJSX","Provider","value","displayName","propTypes","PropTypes","node","defaultPortalContextValues","popover","portalContainer","undefined","scrollContainer","PortalContext","usePopoverPortalContainer","PortalContextProvider","_ref$popover","BaseFontSizeContext","useBaseFontSize","TypographyProvider","_ref$baseFontSize","baseFontSize","LeafyGreenProvider","popoverPortalContainer","number"],"mappings":"+oCAKO,IAAIA,EAAuBC,EAAc,CAC9CC,eAAe,EACfC,iBAAkB,eAGTC,EAAqB,CAC9BC,IAAK,EACLC,UAAW,GACXC,QAAS,GACTC,WAAY,GACZC,UAAW,IAEN,SAASC,IACd,OAAOC,EAAWX,GAGpB,SAASY,EAAsBC,GAC7B,IAAIC,EAAWD,EAAKC,SAGhBC,EAAaC,EADDC,GAAS,GACkB,GACvCf,EAAgBa,EAAW,GAC3BZ,EAAmBY,EAAW,GAElCG,EAAiB,aAAa,WAC5B,OAAOf,GAAiB,KACvB,CACDgB,QAASjB,IAEXgB,EAAiB,WAAW,SAAUE,GACpC,IAAIC,EAAUD,EAAMC,QAEhBC,OAAOC,OAAOnB,GAAoBoB,SAASH,IAC7ClB,GAAiB,KAElB,CACDgB,SAAUjB,IAEZ,IAAIuB,EAAgBC,GAAQ,WAC1B,MAAO,CACLxB,cAAeA,EACfC,iBAAkBA,KAEnB,CAACD,IACJ,OAAOyB,EAAc3B,EAAqB4B,SAAU,CAClDC,MAAOJ,GACNX,GAGLF,EAAsBkB,YAAc,wBACpClB,EAAsBmB,UAAY,CAChCjB,SAAUkB,EAAUC,MCtDtB,IAAIC,EAA6B,CAC/BC,QAAS,CACPC,qBAAiBC,EACjBC,qBAAiBD,IAGjBE,EAAgBtC,EAAciC,GAC3B,SAASM,IAId,OAHkB7B,EAAW4B,GACHJ,QAIb,SAASM,EAAsB5B,GAC5C,IAAI6B,EAAe7B,EAAKsB,QACpBA,OAA2B,IAAjBO,EAA0BR,EAA2BC,QAAUO,EACzE5B,EAAWD,EAAKC,SACpB,OAAOa,EAAcY,EAAcX,SAAU,CAC3CC,MAAO,CACLM,QAASA,IAEVrB,GCpBL,IAAI6B,EAAsB1C,EAAc,IACjC,SAAS2C,IACd,OAAOjC,EAAWgC,GAGpB,SAASE,EAAmBhC,GAC1B,IAAIC,EAAWD,EAAKC,SAChBgC,EAAoBjC,EAAKkC,aACzBA,OAAqC,IAAtBD,EAA+B,GAAKA,EACvD,OAAOnB,EAAcgB,EAAoBf,SAAU,CACjDC,MAAOkB,GACNjC,GCPL,SAASkC,EAAmBnC,GAC1B,IAAIC,EAAWD,EAAKC,SAChBiC,EAAelC,EAAKkC,aACpBE,EAAyBpC,EAAKoC,uBAClC,OAAOtB,EAAcf,EAAuB,KAAMe,EAAcc,EAAuB,CACrFN,QAASc,GACRtB,EAAckB,EAAoB,CACnCE,aAAcA,GACbjC,KDEL+B,EAAmBf,YAAc,qBACjCe,EAAmBd,UAAY,CAC7BjB,SAAUkB,EAAUC,KACpBc,aAAcf,EAAUkB,QCF1BF,EAAmBlB,YAAc,qBACjCkB,EAAmBjB,UAAY,CAC7BjB,SAAUkB,EAAUC"}