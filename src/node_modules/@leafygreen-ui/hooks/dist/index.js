!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("lodash/debounce"),require("lodash/isEqual"),require("lodash/isUndefined")):"function"==typeof define&&define.amd?define(["exports","react","lodash/debounce","lodash/isEqual","lodash/isUndefined"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["@leafygreen-ui/hooks"]={},e.React,e.debounce,e.isEqual,e.isUndefined)}(this,(function(e,n,t,r,o){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=u(t),c=u(r),f=u(o);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,u=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(u.push(r.value),!n||u.length!==n);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(c)throw o}}return u}(e,n)||p(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){if(e){if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,n):void 0}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.options,u=r.enabled,i=void 0===u||u,c=r.dependencies,f=void 0===c?[i,e]:c,a=r.element,d=n.useRef((function(){}));n.useEffect((function(){d.current=t}),[t]),n.useEffect((function(){if(!1!==i){if("once"===i||!0===i){var n=function(e){return d.current(e)},t=l(l({},o),{},{once:"once"===i});return(null!=a?a:document).addEventListener(e,n,t),function(){(null!=a?a:document).removeEventListener(e,n,t)}}console.error("Received value of type ".concat(s(i)," for property `enabled`. Expected a boolean."))}}),f)}function h(){return{width:window.innerWidth,height:window.innerHeight}}function g(){var e=function(){return"visible"===document.visibilityState},t=y(n.useState(!0),2),r=t[0],o=t[1];return n.useEffect((function(){o(e)}),[]),m("visibilitychange",(function(){o(e)})),r}var w=function(){var e="undefined"==typeof window?n.useEffect:n.useLayoutEffect;return e.apply(void 0,arguments)},E=!1,O=new Map,S=function(e){if(O.has(e)){var n=O.get(e),t=n?n+1:1;return O.set(e,t),t}return O.set(e,1),1};var j=new Map;function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.initialValue,o=t.deps,u=void 0===o?[]:o,i=n.useRef(r);return n.useMemo((function(){return{get current(){return i.current},set current(n){i.current=n,e(n)}}}),[e,i].concat(v(u)))}e.useDynamicRefs=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(t){if(t){var r=e+"-"+t;if(j.get(r))return j.get(r);var o=n.createRef();return j.set(r,o),o}console.error("useDynamicRefs: Cannot get ref without key")}return t}(e.prefix)},e.useEscapeKey=function(e,n){return m("keydown",(function(n){return function(e,n){27===e.keyCode&&(e.stopImmediatePropagation(),n())}(n,e)}),n)},e.useEventListener=m,e.useForwardedRef=function(e,t){var r=n.useCallback((function(e,n){Array.isArray(e)?e.forEach(r):"function"==typeof e?e(n):e&&(e.current=n)}),[]);return P(n.useCallback((function(n){return r(e,n)}),[e,r]),{initialValue:t})},e.useIdAllocator=function(e){var t=e.prefix,r=e.id,o=t&&(E?S(t):null),u=y(n.useState(o),2),i=u[0],c=u[1];return w((function(){t&&null===i&&c(S(t))}),[]),n.useEffect((function(){!1===E&&(E=!0)}),[]),r||"".concat(t,"-").concat(i)},e.useIsomorphicLayoutEffect=w,e.useMutationObserver=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=n.useState(),i=y(u,2),c=i[0],f=i[1];return n.useEffect((function(){if(o){var n=new MutationObserver((function(){f(r.apply(void 0,arguments))}));return e&&n.observe(e,t),function(){return n.disconnect()}}}),[e,t,r,o]),c},e.useObjectDependency=function(e){var t=n.useRef();return void 0!==t.current&&c.default(t.current,e)||(t.current=e),t.current},e.useObservedRef=P,e.usePoller=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.interval,o=void 0===r?3e4:r,u=t.immediate,i=void 0===u||u,c=t.enabled,f=void 0===c||c,a=n.useRef(),l=g(),s=l&&f;n.useEffect((function(){a.current=e})),n.useEffect((function(){var e;if(s)return i?r():n(),t;function n(){t(),e=setTimeout(r,o)}function t(){clearTimeout(e)}function r(){var e;Promise.resolve(null===(e=a.current)||void 0===e?void 0:e.call(a)).finally(n)}}),[o,i,s])},e.usePrevious=function(e){var t=n.useRef();return n.useEffect((function(){t.current=e})),t.current},e.useValidation=function(e){var t=y(n.useState(!1),2),r=t[0],o=t[1];return f.default(e)||"function"!=typeof e?{onBlur:function(){},onChange:function(){}}:{onBlur:function(n){o(!0),null==e||e(n.target.value)},onChange:function(n){r&&(null==e||e(n.target.value))}}},e.useViewportSize=function(){var e=y(n.useState(null),2),t=e[0],r=e[1];return n.useEffect((function(){r(h());var e=i.default((function(){return r(h())}),100);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
