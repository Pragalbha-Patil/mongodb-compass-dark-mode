!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MongoDBCompass=t():e.MongoDBCompass=t()}(global,(function(){return(global.webpackChunkMongoDBCompass=global.webpackChunkMongoDBCompass||[]).push([[584],{13566:(e,t,n)=>{"use strict";n.r(t)},81709:(e,t,n)=>{const s=n(45727);window.addEventListener("error",(e=>{e.preventDefault(),s.call("compass:error:fatal",e.error?{message:e.error.message,stack:e.error.stack}:{message:e.message,stack:"<no stack available>"})})),n(13566),n(38521);const i=n(717),o=n(82361);i.mark("Time to Connect rendered"),i.mark("Time to user can Click Connect"),o.defaultMaxListeners=100,document.addEventListener("dragover",(e=>e.preventDefault())),document.addEventListener("drop",(e=>e.preventDefault())),n(54876),n(68768);const r=n(56462);global.hadronApp=r;var a=n(72298),c=a.remote.app.getVersion(),d=n(76635),l=n(84124),u=n(24290),p=n(59543),h=n(97699);const m=n(10842);var f=n(32228);n(19494);var g=n(50833);i.mark("Migrations");var b=n(29905);i.stop("Migrations");var _=n(2784),v=n(28316),{Action:y}=n(88609);const{enableDarkTheme:w,disableDarkTheme:k,loadTheme:x}=n(38072);s.once("app:launched",(function(){console.log("in app:launched")}));const{log:A,mongoLogId:S,debug:E,track:C}=n(6909).createLoggerAndTelemetry("COMPASS-APP");var N=new(l.extend({template:function(){return['<div id="application">','  <div data-hook="auto-update"></div>','  <div data-hook="notifications"></div>','  <div data-hook="layout-container"></div>','  <div data-hook="tour-container"></div>','  <div data-hook="optin-container"></div>','  <div data-hook="security"></div>','  <div data-hook="license"></div>',"</div>"].join("\n")},props:{version:{type:"string",default:c}},session:{connection:"state",notifications:"state",instance:"state",router:"object"},children:{user:f,preferences:m},events:{"click a":"onLinkClick"},initialize:function(){function e({name:e,value:t}){C({FCP:"First Contentful Paint",LCP:"Largest Contentful Paint",FID:"First Input Delay",CLS:"Cumulative Layout Shift"}[e],{value:t})}s.on("window:show-compass-tour",this.showTour.bind(this,!0)),s.on("window:show-network-optin",this.showOptIn.bind(this)),s.on("window:show-security-panel",this.showSecurity.bind(this)),p.getFCP(e),p.getLCP(e),p.getFID(e),p.getCLS(e)},startRouter:function(){if(this.router)return E("router already started!");this.router=new g,E("Starting router..."),this.router.history.start({pushState:!1,root:"/"})},navigate:function(e,t){(t=d.defaults(t||{},{silent:!1,params:null})).params&&(e+="?"+n(19126).stringify(t.params));var s="/"===e.charAt(0)?e.slice(1):e;this.router.history.navigate(s,{trigger:!t.silent})},postRender:function(){i.mark("Pre-loading additional modules required to connect"),n(8866),n(31453),i.stop("Pre-loading additional modules required to connect")},render:function(){A.info(S(1001000092),"Main Window","Rendering app container"),this.el=document.querySelector("#application"),this.renderWithTemplate(this),this.securityComponent=r.appRegistry.getRole("Application.Security")[0].component,v.render(_.createElement(this.securityComponent),this.queryByHook("security")),this.autoUpdatesRoles=r.appRegistry.getRole("App.AutoUpdate"),this.autoUpdatesRoles&&v.render(_.createElement(this.autoUpdatesRoles[0].component),this.queryByHook("auto-update")),(()=>{r.preferences.showFeatureTour?this.showTour(!1):this.tourClosed()})()},showTour:function(e){const t=new(n(45904))({force:e});t.features.length>0?(t.on("close",this.tourClosed.bind(this)),this.renderSubview(t,this.queryByHook("tour-container"))):this.tourClosed()},showOptIn:function(){{const e=new(n(17843));this.renderSubview(e,this.queryByHook("optin-container"))}},showSecurity:function(){r.appRegistry.getAction("Security.Actions").show()},tourClosed:function(){r.preferences.unset("showFeatureTour"),r.preferences.save(),r.preferences.showedNetworkOptIn||this.showOptIn()},onLinkClick:function(e){const t=n(8866).getLocalPathname(e);if(t)return e.preventDefault(),void this.router.history.navigate(t);e.target.getAttribute("href")&&"#"!==e.target.getAttribute("href")&&(e.preventDefault(),e.stopPropagation(),a.shell.openExternal(e.target.href))},fetchUser:function(e){E("preferences fetched, now getting user"),f.getOrCreate(this.preferences.currentUserId||this.preferences.telemetryAnonymousId,function(t,n){if(t)return e(t);this.user.set(n.serialize()),this.user.trigger("sync"),this.preferences.save({telemetryAnonymousId:n.id}),s.call("compass:usage:identify",{currentUserId:this.preferences.currentUserId,telemetryAnonymousId:n.id}),E("user fetch successful",n.serialize()),e(null,n)}.bind(this))},fetchPreferences:function(e){this.preferences.once("sync",(function(t){t.trigger("page-refresh"),s.call(t.isFeatureEnabled("trackUsageStatistics")?"compass:usage:enabled":"compass:usage:disabled");var n=d.get(t,"lastKnownVersion","0.0.0"),i=c,o=!1;(h.lt(n,i)||process.env.SHOW_TOUR)&&(t.showFeatureTour=n,o=!0),h.neq(n,i)&&(t.lastKnownVersion=i,o=!0),o?t.save(null,{success:e.bind(null,null),error:e.bind(null,null)}):e(null)})),s.call("compass:loading:change-status",{status:"loading preferences"}),r.preferences.fetch()}}));r.extend({client:null,navigate:N.navigate.bind(N),isFeatureEnabled:function(e){return this.preferences.isFeatureEnabled(e)},init:function(){u.series([b.bind(N),N.fetchPreferences.bind(N),N.fetchUser.bind(N)],(function(e){if(e)throw e;x(r.preferences.theme),s.on("app:darkreader-enable",(()=>{w()})),s.on("app:darkreader-disable",(()=>{k()})),s.on("app:save-theme",((e,t)=>{r.preferences.save({theme:t})})),y.pluginActivationCompleted.listen((()=>{s.call("compass:loading:change-status",{status:"activating plugins"}),global.hadronApp.appRegistry.onActivated(),s.call("compass:loading:change-status",{status:"initializing"}),global.hadronApp.appRegistry.emit("application-initialized",c,"MongoDB Compass"),s.call("compass:loading:change-status",{status:"loading preferences"}),global.hadronApp.appRegistry.emit("preferences-loaded",N.preferences),s.call("window:renderer-ready"),s.on("app:refresh-data",(()=>global.hadronApp.appRegistry.emit("refresh-data"))),N.render(),i.stop("Time to Connect rendered"),N.startRouter(),N.postRender(),i.stop("Time to user can Click Connect"),process.env.MONGODB_COMPASS_TEST_UNCAUGHT_EXCEPTION&&queueMicrotask((()=>{throw new Error("fake exception")}))})),n(29503)}))}}),Object.defineProperty(r,"autoUpdate",{get:function(){return N.autoUpdate}}),Object.defineProperty(r,"instance",{get:function(){return N.instance},set:function(e){N.instance=e}}),Object.defineProperty(r,"preferences",{get:function(){return N.preferences}}),Object.defineProperty(r,"connection",{get:function(){return N.connection}}),Object.defineProperty(r,"router",{get:function(){return N.router}}),Object.defineProperty(r,"user",{get:function(){return N.user}}),Object.defineProperty(r,"state",{get:function(){return N}}),n(9765),r.init(),window.app=r},19494:(e,t,n)=>{const s=n(72298),i=n(45727),o=()=>s.webFrame.setZoomLevel(0),r=()=>{const e=s.webFrame.getZoomLevel(),t=Math.min(e+.5,5);return s.webFrame.setZoomLevel(t)},a=()=>{const e=s.webFrame.getZoomLevel(),t=Math.max(e-.5,-3);return s.webFrame.setZoomLevel(t)};i.on("window:zoom-reset",o),i.on("window:zoom-in",r),i.on("window:zoom-out",a),e.exports={zoomReset:o,zoomIn:r,zoomOut:a}},57310:(e,t,n)=>{const s=n(11227)("mongodb-compass:migrations"),{ConnectionIndexedDBCollection:i}=n(68210),o=n(94598),r={_id:"_id",name:"name",hostname:"hostname",port:"port",connectionType:"connectionType",ns:"ns",app_name:"appname",extra_options:"extraOptions",isSrvRecord:"isSrvRecord",last_used:"lastUsed",is_favorite:"isFavorite",stitchServiceName:"stitchServiceName",stitchClientAppId:"stitchClientAppId",stitchGroupId:"stitchGroupId",stitchBaseUrl:"stitchBaseUrl",read_preference:"readPreference",replica_set_name:"replicaSet",authentication:"authStrategy",mongodb_username:"mongodbUsername",mongodb_password:"mongodbPassword",mongodb_database_name:"mongodbDatabaseName",promote_values:"promoteValues",kerberos_service_name:"kerberosServiceName",kerberos_principal:"kerberosPrincipal",kerberos_password:"kerberosPassword",kerberos_canonicalize_hostname:"kerberosCanonicalizeHostname",ldap_username:"ldapUsername",ldap_password:"ldapPassword",x509_username:"x509Username",ssl:"sslMethod",ssl_ca:"sslCa",ssl_certificate:"sslCert",ssl_private_key:"sslKey",ssl_private_key_password:"sslPass",ssh_tunnel:"sshTunnel",ssh_tunnel_hostname:"sshTunnelHostname",ssh_tunnel_port:"sshTunnelPort",ssh_tunnel_bind_to_local_port:"sshTunnelBindToLocalPort",ssh_tunnel_username:"sshTunnelUsername",ssh_tunnel_password:"sshTunnelPassword",ssh_tunnel_identity_file:"sshTunnelIdentityFile",ssh_tunnel_passphrase:"sshTunnelPassphrase"};e.exports=(e,t,n)=>{(e=>{s("migration: moveToDiskStorage");const t=new i;t.once("sync",(function(){if(t.length>0){let n=0;t.each((function(s){const i=(a=s.attributes,Object.keys(a).reduce(((e,t)=>{const n=r[t];if(n){const s=a[t];e[n]=s,"ssl"===t&&"NONE"!==s&&(e.ssl=!0)}return e}),{}));var a;new o(i).save({},{success:()=>{n+=1,n===t.length&&e(null)},error:()=>{n+=1,n===t.length&&e(null)}})||n!==t.length||(n+=1,e(null))}))}else e(null)})),t.fetch({reset:!0})})((function(e){if(e)return s("encountered an error in the migration",e),n(null);n(null,"successful migration to persist to disk")}))}},32189:(e,t,n)=>{const s=n(11227)("mongodb-compass:migrations"),i=n(24290),o=n(57147),r=n(71017),{remote:a}=n(72298),c="pipelines",d="SavedPipelines";e.exports=(e,t,n)=>{(e=>{s("migration pipelines: moveToDiskStorage");const t=a.app.getPath("userData");((e,t)=>{const n=window.indexedDB.open("compass-aggregations",1);n.onsuccess=n=>{const s=n.target.result.transaction(c,e);t(s.objectStore(c))},n.onupgradeneeded=e=>{e.target.result.createObjectStore(c).createIndex("namespace","namespace",{unique:!1})}})("readwrite",(n=>{n.getAll().onsuccess=n=>{const s=n.target.result;if(s){const n=s.map((e=>n=>{const s=r.join(t,d,`${e.id}.json`);o.writeFile(s,JSON.stringify(e),{encoding:"utf8",flag:"w"},(()=>{n(null)}))})),a=e=>{const n=r.join(t,d);o.mkdir(n,{recursive:!0},(()=>{e()}))};i.series([a].concat(n),(()=>{e()}))}else e()}}))})((function(e){if(e)return s("encountered an error in the migration",e),n(null);n(null,"successful migration to persist pipelines to disk")}))}},94598:(e,t,n)=>{const s=n(44399),i=n(37421);let o,r;try{const e=n(72298);o=e.remote?e.remote.app.getName():void 0,r=e.remote?e.remote.app.getPath("userData"):void 0}catch(e){console.log("Could not load electron",e.message)}const a=s.extend(i,{idAttribute:"_id",namespace:"Connections",storage:{backend:"disk",namespace:"Connections",appName:o,basepath:r},serialize:function(){return s.prototype.serialize.call(this,{all:!0})},validate:function(){}});e.exports=a},68210:(e,t,n)=>{const s=n(67199),i=n(51762),o=n(37421);let r;try{const e=n(72298);r=e.remote?e.remote.app.getName():void 0}catch(e){console.log("Could not load electron",e.message)}const a=s.extend(o,{idAttribute:"_id",namespace:"Connections",storage:{backend:"local",appName:r},serialize:function(){return s.prototype.serialize.call(this,{all:!0})}});e.exports=a,e.exports.ConnectionIndexedDBCollection=i.extend(o,{model:a,namespace:"Connections",storage:{backend:"local",appName:r},mainIndex:"_id"})},61290:e=>{e.exports={port:{set:e=>{const t=parseInt(e,10);if(""===e||isNaN(t))return{type:"undefined",val:void 0};if(t<0)throw new TypeError("port number must be positive.");if(t>=65536)throw new TypeError("port number must be below 65536");return{type:"port",val:e}}}}},29905:(e,t,n)=>{const s=n(71305),i=n(37421),o=n(97699),r=n(72298).remote.app,a=n(45727),c=n(11227)("mongodb-compass:migrations");e.exports=function(e){a.call("compass:loading:change-status",{status:"running migrations"}),function(e){const t=s.extend(i,{extraProperties:"ignore",idAttribute:"id",namespace:"AppPreferences",storage:{backend:"disk",basepath:r.getPath("userData")},props:{id:["string",!0,"General"],lastKnownVersion:["string",!1,""]}}),n=t.extend({namespace:"Preferences",storage:{backend:"local",appName:r.getName()}}),o=new t;o.once("sync",(function(t){if(t.lastKnownVersion)return e(null,t.lastKnownVersion);const s=new n;s.once("sync",(function(t){return e(null,t.lastKnownVersion||"0.0.0")})),s.fetch()})),o.fetch()}((function(t,s){t&&e(t);const i=r.getVersion();if(i.match(/^0\.0\.0/))return c(`running with placeholder version ${i} - skipping migrations`),e();if(c("renderer process migrations from %s to %s",s,i),o.eq(s,i))return c("renderer process - skipping migrations which have already been run"),e();const a={"1.20.0-beta.0":n(57310),"1.21.0-beta.0":n(32189),"1.21.0-dev.0":n(32189)};n(87295)(a)(s,i,(function(t,n){if(t)return c("error",t),e(t);c("result",n),e()}))}))}},67199:(e,t,n)=>{var s=n(35034).format,i=n(73837).format,o=n(71305),r=n(51762),a=n(48761).ReadPreference,c=n(89044),d=n(61290),l=n(57147),u=n(98022),p={},h={},m={},f={};function g(){return parseInt((730*Math.random()+29170).toString(),10)}var b={NODE_DRIVER:"NODE_DRIVER",STITCH_ON_PREM:"STITCH_ON_PREM",STITCH_ATLAS:"STITCH_ATLAS"};Object.assign(f,{selected:{type:"boolean",default:!1}}),Object.assign(h,{name:{type:"string",default:"Local"},hostname:{type:"string",default:"localhost"},connectionType:{type:"string",default:b.NODE_DRIVER},stitchServiceName:{type:"string"},stitchClientAppId:{type:"string"},stitchGroupId:{type:"string"},stitchBaseUrl:{type:"string"},port:{type:"port",default:27017},ns:{type:"string",default:void 0},app_name:{type:"string",default:void 0},extra_options:{type:"object",default:function(){return{}}},replica_set_name:{type:"string",default:void 0},isSrvRecord:{type:"boolean",default:!1},_id:{type:"string",default:function(){return u.v4()}},last_used:{type:"date",default:null},is_favorite:{type:"boolean",default:!1}}),Object.assign(m,{instance_id:{deps:["hostname","port"],fn:function(){return i("%s:%s",this.hostname,this.port)}},username:{deps:["authentication"],fn:function(){return"NONE"===this.authentication?"":"MONGODB"===this.authentication?this.mongodb_username:"KERBEROS"===this.authentication?this.kerberos_principal:"X509"===this.authentication?this.x509_username:"LDAP"===this.authentication?this.ldap_username:void 0}}});var _=[a.PRIMARY,a.PRIMARY_PREFERRED,a.SECONDARY,a.SECONDARY_PREFERRED,a.NEAREST],v=a.PRIMARY;Object.assign(h,{read_preference:{type:"string",values:_,default:v}});var y=["NONE","MONGODB","X509","KERBEROS","LDAP","SCRAM-SHA-256"],w="NONE";Object.assign(h,{authentication:{type:"string",values:y,default:w}});var k={NONE:void 0,MONGODB:"DEFAULT",KERBEROS:"GSSAPI",X509:"MONGODB-X509",LDAP:"PLAIN","SCRAM-SHA-256":"SCRAM-SHA-256"};Object.assign(m,{driver_auth_mechanism:{type:"string",deps:["authentication"],fn:function(){return k[this.authentication]}}});var x={"":"NONE",DEFAULT:"MONGODB","SCRAM-SHA-1":"MONGODB","SCRAM-SHA-256":"SCRAM-SHA-256","MONGODB-CR":"MONGODB","MONGODB-X509":"X509",GSSAPI:"KERBEROS",SSPI:"KERBEROS",PLAIN:"LDAP",LDAP:"LDAP"},A={NONE:[],MONGODB:["mongodb_username","mongodb_password","mongodb_database_name"],"SCRAM-SHA-256":["mongodb_username","mongodb_password","mongodb_database_name"],KERBEROS:["kerberos_principal","kerberos_password","kerberos_service_name","kerberos_canonicalize_hostname"],X509:["x509_username"],LDAP:["ldap_username","ldap_password"]};Object.assign(h,{mongodb_username:{type:"string",default:void 0},mongodb_password:{type:"string",default:void 0},mongodb_database_name:{type:"string",default:void 0},promote_values:{type:"boolean"}});var S="admin";Object.assign(h,{kerberos_service_name:{type:"string",default:void 0},kerberos_principal:{type:"string",default:void 0},kerberos_password:{type:"string",default:void 0},kerberos_canonicalize_hostname:{type:"boolean",default:!1}});var E="mongodb";Object.assign(h,{ldap_username:{type:"string",default:void 0},ldap_password:{type:"string",default:void 0}}),Object.assign(h,{x509_username:{type:"string",default:void 0}});var C=["NONE","SYSTEMCA","IFAVAILABLE","UNVALIDATED","SERVER","ALL"],N="NONE";Object.assign(h,{ssl:{type:"string",values:C,default:N},ssl_ca:{type:"any",default:void 0},ssl_certificate:{type:"any",default:void 0},ssl_private_key:{type:"any",default:void 0},ssl_private_key_password:{type:"string",default:void 0}});var T=["NONE","USER_PASSWORD","IDENTITY_FILE"],O="NONE";Object.assign(h,{ssh_tunnel:{type:"string",values:T,default:O},ssh_tunnel_hostname:{type:"string",default:void 0},ssh_tunnel_port:{type:"port",default:22},ssh_tunnel_bind_to_local_port:{type:"port",default:void 0},ssh_tunnel_username:{type:"string",default:void 0},ssh_tunnel_password:{type:"string",default:void 0},ssh_tunnel_identity_file:{type:"any",default:void 0},ssh_tunnel_passphrase:{type:"string",default:void 0}});var I={};Object.assign(m,{driver_url:{cache:!1,fn:function(){const e="AUTH_TOKEN";var t={protocol:this.isSrvRecord?"mongodb+srv":"mongodb",slashes:!0,hostname:this.hostname,port:this.isSrvRecord?null:this.port,pathname:"/",query:{}};this.replica_set_name&&(t.query.replicaSet=this.replica_set_name),t.query.readPreference=this.read_preference,this.app_name&&(t.query.appname=this.app_name),this.ns&&(t.pathname=i("/%s",this.ns)),(()=>{"MONGODB"===this.authentication?(t.auth=e,t.query.authSource=this.mongodb_database_name||S):"SCRAM-SHA-256"===this.authentication?(t.auth=e,t.query.authSource=this.mongodb_database_name||S,t.query.authMechanism=this.driver_auth_mechanism):"KERBEROS"===this.authentication?(t.query={gssapiServiceName:this.kerberos_service_name,authMechanism:this.driver_auth_mechanism,...t.query},t.auth=e):"X509"===this.authentication?(t.auth=this.x509_username,t.query={authMechanism:this.driver_auth_mechanism,...t.query}):"LDAP"===this.authentication&&(t.auth=e,t.query={authMechanism:this.driver_auth_mechanism,...t.query})})(),["UNVALIDATED","SYSTEMCA","SERVER","ALL"].includes(this.ssl)?t.query.ssl="true":"IFAVAILABLE"===this.ssl?t.query.ssl="prefer":"NONE"===this.ssl&&(t.query.ssl="false");var n={...t};"NONE"!==this.ssh_tunnel&&(n.hostname=this.ssh_tunnel_options.localAddr,n.port=this.ssh_tunnel_options.localPort);var o=s(n);if("MONGODB"===this.authentication||"SCRAM-SHA-256"===this.authentication){const t=i("%s:%s",encodeURIComponent(this.mongodb_username),encodeURIComponent(this.mongodb_password));o=o.replace(e,t,1)}if("LDAP"===this.authentication){const t=i("%s:%s",encodeURIComponent(this.ldap_username),encodeURIComponent(this.ldap_password));o=`${o=o.replace(e,t,1)}&authSource=$external`}if("KERBEROS"===this.authentication){if(this.kerberos_password){const t=i("%s:%s",encodeURIComponent(this.kerberos_principal),encodeURIComponent(this.kerberos_password));o=o.replace(e,t,1)}else{const t=i("%s:",encodeURIComponent(this.kerberos_principal));o=o.replace(e,t,1)}o=`${o}&authSource=$external`,this.kerberos_canonicalize_hostname&&(o=`${o}&authMechanismProperties=CANONICALIZE_HOST_NAME:true`)}return o}},driver_options:{cache:!1,fn:function(){var e={...I};return"SERVER"===this.ssl?Object.assign(e,{sslValidate:!0,sslCA:this.ssl_ca}):"ALL"===this.ssl?(Object.assign(e,{sslValidate:!0,sslCA:this.ssl_ca,sslKey:this.ssl_private_key,sslCert:this.ssl_certificate}),this.ssl_private_key_password&&(e.sslPass=this.ssl_private_key_password),"X509"===this.authentication&&(e.checkServerIdentity=!1,e.sslValidate=!1)):"UNVALIDATED"===this.ssl?Object.assign(e,{checkServerIdentity:!1,sslValidate:!1}):"SYSTEMCA"===this.ssl?Object.assign(e,{checkServerIdentity:!0,sslValidate:!0}):"IFAVAILABLE"===this.ssl&&Object.assign(e,{checkServerIdentity:!1,sslValidate:!0}),Object.assign(e,this.extra_options),void 0!==this.promote_values&&(e.promoteValues=this.promote_values),e.readPreference=this.read_preference,e}},ssh_tunnel_options:{cache:!1,fn:function(){if("NONE"===this.ssh_tunnel)return{};this.ssh_tunnel_bind_to_local_port||(this.ssh_tunnel_bind_to_local_port=g());var e={readyTimeout:5e3,forwardTimeout:5e3,keepaliveInterval:5e3,srcAddr:"127.0.0.1",dstPort:this.port,dstAddr:this.hostname,localPort:this.ssh_tunnel_bind_to_local_port,localAddr:"127.0.0.1",host:this.ssh_tunnel_hostname,port:this.ssh_tunnel_port,username:this.ssh_tunnel_username};if("USER_PASSWORD"===this.ssh_tunnel)e.password=this.ssh_tunnel_password;else if("IDENTITY_FILE"===this.ssh_tunnel){if(this.ssh_tunnel_identity_file&&this.ssh_tunnel_identity_file[0]){const t=this.ssh_tunnel_identity_file[0];try{e.privateKey=l.readFileSync(t)}catch(e){console.error(`Could not locate ssh tunnel identity file: ${t}`)}}this.ssh_tunnel_passphrase&&(e.passphrase=this.ssh_tunnel_passphrase)}return e}}}),(p=o.extend({namespace:"Connection",idAttribute:"instance_id",props:h,derived:m,session:f,dataTypes:d,initialize:function(e){if(e){if("string"==typeof e)try{e=p.from(e)}catch(e){return void(this.validationError=e)}if(e.ssl_ca&&!Array.isArray(e.ssl_ca)&&(this.ssl_ca=e.ssl_ca=[e.ssl_ca]),e.ssh_tunnel&&"NONE"!==e.ssh_tunnel){const t=g();e.ssh_tunnel_bind_to_local_port=t,this.ssh_tunnel_bind_to_local_port=t}this.parse(e)}},parse:function(e){return e?(e.mongodb_username&&"SCRAM-SHA-256"!==e.authentication?this.authentication=e.authentication="MONGODB":e.kerberos_principal?this.authentication=e.authentication="KERBEROS":e.ldap_username?this.authentication=e.authentication="LDAP":e.x509_username&&(this.authentication=e.authentication="X509"),"MONGODB"!==e.authentication&&"SCRAM-SHA-256"!==e.authentication||(e.mongodb_database_name||(e.mongodb_database_name=S),this.mongodb_database_name=e.mongodb_database_name),"KERBEROS"===e.authentication&&(e.kerberos_service_name||(e.kerberos_service_name=E),this.kerberos_service_name=e.kerberos_service_name),e):e},validate:function(e){try{this.validate_ssl(e),this.validate_mongodb(e),this.validate_kerberos(e),this.validate_x509(e),this.validate_ldap(e),this.validate_ssh_tunnel(e),this.validate_stitch(e)}catch(e){return e}},validate_ssl:function(e){if(e.ssl&&!["NONE","UNVALIDATED","IFAVAILABLE","SYSTEMCA"].includes(e.ssl)){if("SERVER"===e.ssl&&!e.ssl_ca)throw new TypeError("ssl_ca is required when ssl is SERVER.");if("ALL"===e.ssl){if(!e.ssl_ca)throw new TypeError("ssl_ca is required when ssl is ALL.");if(!e.ssl_private_key)throw new TypeError("ssl_private_key is required when ssl is ALL.");if(!e.ssl_certificate)throw new TypeError("ssl_certificate is required when ssl is ALL.")}}},validate_mongodb:function(e){if("MONGODB"===e.authentication||"SCRAM-SHA-256"===e.authentication){if(!e.mongodb_username)throw new TypeError(i("The mongodb_username field is required when using MONGODB or SCRAM-SHA-256 for authentication."));if(!e.mongodb_password)throw new TypeError(i("The mongodb_password field is required when using MONGODB or SCRAM-SHA-256 for authentication."))}},validate_kerberos:function(e){if("KERBEROS"!==e.authentication){if(e.kerberos_service_name)throw new TypeError(i("The kerberos_service_name field does not apply when using %s for authentication.",e.authentication));if(e.kerberos_principal)throw new TypeError(i("The kerberos_principal field does not apply when using %s for authentication.",e.authentication));if(e.kerberos_password)throw new TypeError(i("The kerberos_password field does not apply when using %s for authentication.",e.authentication))}if("KERBEROS"===e.authentication&&!e.kerberos_principal)throw new TypeError(i("The kerberos_principal field is required when using KERBEROS for authentication."))},validate_x509:function(e){if("X509"===e.authentication&&!e.x509_username)throw new TypeError(i("The x509_username field is required when using X509 for authentication."))},validate_ldap:function(e){if("LDAP"===e.authentication){if(!e.ldap_username)throw new TypeError(i("The ldap_username field is required when using LDAP for authentication."));if(!e.ldap_password)throw new TypeError(i("The ldap_password field is required when using LDAP for authentication."))}},validate_ssh_tunnel:function(e){if(e.ssh_tunnel&&e.ssh_tunnel!==O)if("USER_PASSWORD"===e.ssh_tunnel){if(this.validate_standard_ssh_tunnel_options(e),!e.ssh_tunnel_password)throw new TypeError("ssl_tunnel_password is required when ssh_tunnel is USER_PASSWORD.")}else if("IDENTITY_FILE"===e.ssh_tunnel&&(this.validate_standard_ssh_tunnel_options(e),!e.ssh_tunnel_identity_file))throw new TypeError("ssl_tunnel_identity_file is required when ssh_tunnel is IDENTITY_FILE.")},validate_standard_ssh_tunnel_options:function(e){if(!e.ssh_tunnel_username)throw new TypeError("ssl_tunnel_username is required when ssh_tunnel is not NONE.");if(!e.ssh_tunnel_hostname)throw new TypeError("ssl_tunnel_hostname is required when ssh_tunnel is not NONE.");if(!e.ssh_tunnel_port)throw new TypeError("ssl_tunnel_port is required when ssh_tunnel is not NONE.")},validate_stitch:function(e){if(e.connectionType===b.STITCH_ATLAS){if(!e.stitchClientAppId)throw new TypeError("stitchClientAppId is required when connectionType is STITCH_ATLAS.")}else if(e.connectionType===b.STITCH_ON_PREM){if(!e.stitchClientAppId)throw new TypeError("stitchClientAppId is required when connectionType is STITCH_ON_PREM.");if(!e.stitchBaseUrl)throw new TypeError("stitchBaseUrl is required when connectionType is STITCH_ON_PREM.");if(!e.stitchGroupId)throw new TypeError("stitchGroupId is required when connectionType is STITCH_ON_PREM.");if(!e.stitchServiceName)throw new TypeError("stitchServiceName is required when connectionType is STITCH_ON_PREM.")}else if(e.connectionType===b.NODE_DRIVER){if(e.stitchClientAppId)throw new TypeError("stitchClientAppId should not be provided when connectionType is NODE_DRIVER.");if(e.stitchBaseUrl)throw new TypeError("stitchBaseUrl should not be provided when connectionType is NODE_DRIVER.");if(e.stitchGroupId)throw new TypeError("stitchGroupId should not be provided when connectionType is NODE_DRIVER.");if(e.stitchServiceName)throw new TypeError("stitchServiceName should not be provided when connectionType is NODE_DRIVER.")}}})).from=function(e){e||(e="mongodb://localhost:27017");var t=c(e),n={hostname:t.servers[0].host,port:t.servers[0].port};return n.isSrvRecord=t.isSrvRecord,e.indexOf(t.dbName)>-1&&(n.ns=t.dbName),t.auth&&t.auth.user&&(t.auth.password?t.authMechanism="DEFAULT":t.authMechanism="MONGODB-X509"),t.rs_options&&t.rs_options.rs_name&&(n.replica_set_name=t.rs_options.rs_name),t.auth&&t.db_options&&(n.authentication=x[t.db_options.authMechanism],t.db_options.read_preference&&(n.read_preference=t.db_options.read_preference),"LDAP"===n.authentication?(n.ldap_username=decodeURIComponent(t.auth.user),n.ldap_password=decodeURIComponent(t.auth.password)):"X509"===n.authentication?n.x509_username=decodeURIComponent(t.auth.user):"KERBEROS"===n.authentication?(n.kerberos_principal=decodeURIComponent(t.auth.user),n.kerberos_password=decodeURIComponent(t.auth.password)):(n.authentication||(n.authentication="MONGODB"),n.mongodb_username=decodeURIComponent(t.auth.user),n.mongodb_password=decodeURIComponent(t.auth.password),n.mongodb_database_name=decodeURIComponent(t.db_options.authSource||p.MONGODB_DATABASE_NAME_DEFAULT)),Object.assign(n,p._improveAtlasDefaults(e,n.mongodb_password,n.ns))),new p(n)},p._improveAtlasDefaults=function(e,t,n){var s={};return p.isAtlas(e)&&(s.ssl="SYSTEMCA",t.match(/^.?PASSWORD.?$/i)&&(s.mongodb_password=""),n&&!n.match(/^.?DATABASE.?$/i)||(s.ns=p.MONGODB_DATABASE_NAME_DEFAULT)),s},p.getFieldNames=function(e){return A[e]},p.isAtlas=function(e){return e.match(/mongodb.net[:/]/i)},p.isURI=function(e){return e.startsWith("mongodb://")||e.startsWith("mongodb+srv://")},p.AUTHENTICATION_VALUES=y,p.AUTHENTICATION_DEFAULT=w,p.SSL_VALUES=C,p.SSL_DEFAULT=N,p.SSH_TUNNEL_VALUES=T,p.SSH_TUNNEL_DEFAULT=O,p.MONGODB_NAMESPACE_DEFAULT="test",p.MONGODB_DATABASE_NAME_DEFAULT=S,p.KERBEROS_SERVICE_NAME_DEFAULT=E,p.DRIVER_OPTIONS_DEFAULT=I,p.READ_PREFERENCE_VALUES=_,p.READ_PREFERENCE_DEFAULT=v,p.CONNECTION_TYPE_VALUES=b;var j=r.extend({comparator:"instance_id",model:p,modelType:"ConnectionCollection"});e.exports=p,e.exports.Collection=j},17843:(e,t,n)=>{var s=n(38291),i=n(84124),o=n(56462),r=n(76635),a=n(45727),c=n(11227)("mongodb-compass:network-optin:index"),d=n(22185),l=i.extend({template:d,props:{trackErrors:["boolean",!0,!0],enableFeedbackPanel:["boolean",!0,!0],trackUsageStatistics:["boolean",!0,!0],autoUpdates:["boolean",!0,!0],enableMaps:["boolean",!0,!0]},session:{preferences:"state",buttonTitle:{type:"string",required:!0,default:"Start using Compass"}},events:{"click input[type=checkbox]":"checkboxChanged","click button[data-hook=start-button]":"buttonClicked"},bindings:{trackErrors:{type:"booleanAttribute",hook:"track-errors-checkbox",name:"checked"},enableFeedbackPanel:{type:"booleanAttribute",hook:"product-feedback-checkbox",name:"checked"},autoUpdates:{type:"booleanAttribute",hook:"auto-updates-checkbox",name:"checked"},trackUsageStatistics:{type:"booleanAttribute",hook:"usage-stats-checkbox",name:"checked"},enableMaps:{type:"booleanAttribute",hook:"enable-maps-checkbox",name:"checked"},buttonTitle:{hook:"start-button"}},initialize:function(){this.preferences=o.preferences,o.preferences.showedNetworkOptIn?(c("seen this dialog before, show the real settings"),this.buttonTitle="Close",this.trackErrors=o.preferences.trackErrors,this.enableFeedbackPanel=o.preferences.enableFeedbackPanel,this.trackUsageStatistics=o.preferences.trackUsageStatistics,this.autoUpdates=o.preferences.autoUpdates,this.enableMaps=o.preferences.enableMaps):(c("first time showing this dialog, propose to turn everything on"),this.buttonTitle="Start Using Compass",this.trackErrors=!0,this.enableFeedbackPanel=!0,this.trackUsageStatistics=!0,this.autoUpdates=!0,this.enableMaps=!0)},checkboxChanged:function(e){var t=e.target.name,n=e.target.checked;this.set(t,n)},buttonClicked:function(){var e=["enableFeedbackPanel","trackUsageStatistics","trackErrors","autoUpdates","enableMaps"];this.preferences.set("showedNetworkOptIn",!0);var t=r.pick(this.serialize(),e);this.preferences.set(t),this.preferences.save(null,{success:function(t){c("preferences saved:",r.pick(t.serialize(),e))}}),r.delay(function(){this.remove()}.bind(this),500);{const e=this.preferences.isFeatureEnabled("trackUsageStatistics")?"compass:usage:enabled":"compass:usage:disabled";global.hadronApp.appRegistry.emit(e),a.call(e)}},render:function(){this.renderWithTemplate(this),s(this.queryByHook("main-modal")).modal({backdrop:"static",keyboard:!1})}});e.exports=l},47532:(e,t,n)=>{e.exports=[n(2174),n(3711),n(29232),n(98259),n(2797),n(78716),n(37861),n(29311),n(73086),n(65236),n(61432),n(82243),n(9379),n(93982),n(53221),n(60816),n(25340),n(75650),n(58666),n(1984),n(58554),n(85931),n(25229),n(58937),n(6975),n(64659),n(74428),n(51387),n(47021),n(8381)]},9765:(e,t,n)=>{const s=n(56462),i=n(10862),o=n(88609).Action.pluginActivationCompleted;i.StoreMethods.listenToExternalStore=function(e,t){this.listenTo(o,(()=>{const n=s.appRegistry.getStore(e);this.listenTo(n,t),this.stopListeningTo(o)}))}},50833:(e,t,n)=>{const s=n(54939),i=n(2784),o=n(28316),{remote:r}=n(72298);e.exports=s.extend({routes:{"":"home"},home:function(){this.homeView=global.hadronApp.appRegistry.getComponent("Home.Home"),this.trigger("page",o.render(i.createElement(this.homeView,{appRegistry:global.hadronApp.appRegistry,appName:r.app.getName()}),global.hadronApp.state.queryByHook("layout-container")))}})},29503:(e,t,n)=>{const s=n(717),i=n(72298),o=n(56462),r=n(4147),a=n(71017),{AppRegistry:c}=n(42915),d=n(88609),l=n(45727),u=n(11227)("mongodb-compass:setup-plugin-manager"),p=Object.freeze(new c);o.appRegistry=p;const h=a.join(__dirname,"..",".."),m=r.config.hadron.distributions.compass,f=a.join(i.remote.app.getPath("home"),m["plugins-directory"]);s.mark("Loading plugins"),l.call("compass:loading:change-status",{status:"loading plugins"});const g=n(47532),b=g.length;o.pluginManager=new d([f],h,g);const _=n(98188),v=_._load,y="Due to security reasons, 3rd party plugins are not allowed to require modules with filesystem (fs), network (net/tls), or child process (child_process) access.",w=["fs","net","tls","child_process"];_._load=function(e,t){if(w.includes(e)&&t.filename.includes(f)){const e=new Error(y);throw e.stack="",e}return v.apply(this,arguments)};let k=0;d.Action.pluginActivated.listen((()=>{k++,k===b&&s.stop("Loading plugins"),l.call("compass:loading:change-status",{status:`loading plugins ${k}/${b}`})})),o.pluginManager.activate(o.appRegistry,r.apiVersion),u("Plugin manager activated with distribution compass.")},68365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{injectCompassGlobalThemeStyles:()=>a,applyGlobalLightThemeStyles:()=>c,applyGlobalDarkThemeStyles:()=>d});var s=n(50517);const i=(0,s.css)({":root":{backgroundColor:s.compassUIColors.gray8,color:s.uiColors.gray.dark2}}),o=(0,s.css)({[`:root[data-theme="${s.Theme.Light}"]`]:{backgroundColor:s.compassUIColors.gray8,color:s.uiColors.gray.dark2}}),r=(0,s.css)({[`:root[data-theme="${s.Theme.Dark}"]`]:{backgroundColor:s.uiColors.gray.dark3,color:s.uiColors.white}});function a(){(0,s.injectGlobal)(i,o,r)}function c(){document.documentElement.setAttribute("data-theme",s.Theme.Light)}function d(){document.documentElement.setAttribute("data-theme",s.Theme.Dark)}},38072:(e,t,n)=>{const{THEMES:s}=n(10842),{Theme:i}=n(50517),o=n(45727),r=n(42388),{remote:a}=n(72298),{applyGlobalDarkThemeStyles:c,applyGlobalLightThemeStyles:d,injectCompassGlobalThemeStyles:l}=n(68365),u={brightness:100,contrast:90,sepia:10};function p(){global.hadronApp.theme=i.Dark,global.hadronApp.appRegistry?.emit("darkmode-enable"),"true"!==process?.env?.COMPASS_LG_DARKMODE?r.enable(u):c()}function h(){global.hadronApp.theme=i.Light,global.hadronApp.appRegistry?.emit("darkmode-disable"),"true"===process?.env?.COMPASS_LG_DARKMODE&&d(),r.disable()}e.exports={enableDarkTheme:p,disableDarkTheme:h,loadTheme:function(e){l(),o.call("window:theme-loaded",e),e===s.OS_THEME&&a.nativeTheme.shouldUseDarkColors?p():e!==s.DARK?h():p()}}},37751:(e,t,n)=>{e.exports=[{title:"Performance Charts.",description:"Real-time server statistics let you view key server metrics and database operations. Drill down into database operations easily and understand your most active collections.",image:n(19211),version:"1.5.0",initial:!0},{title:"Sidebar. Redesigned.",description:"See with one glance what server you are connected to. Navigate between instance, database and collection level, with powerful filtering of your namespaces.",image:n(75020),version:"1.5.0",initial:!0},{title:"Visualize your Schema.",description:"MongoDB Compass analyzes your documents and displays rich structures within your collections through an intuitive GUI. It allows you to quickly visualize and explore your schema to understand the frequency, types and ranges of fields in your data set.",image:n(43058),version:"1.5.0",initial:!0},{title:"Build Geo Queries.",description:"Visualize, understand, and work with your geospatial data. Point and click to construct sophisticated queries, execute them with the push of a button and Compass will display your results both graphically and as sets of JSON documents.",image:n(17054),version:"1.5.0",initial:!0},{title:"Interactive Document Editor.",description:"Modify existing documents with greater confidence using the intuitive visual editor, or insert new documents and clone or delete existing ones in just a few clicks.",image:n(21416),version:"1.5.0",initial:!0},{title:"Visual Explain Plans.",description:"Know how queries are running through an easy-to-understand GUI that helps you identify and resolve performance issues.",image:n(36169),version:"1.5.0",initial:!0},{title:"Index Management.",description:"Understand the type and size of your indexes, their utilization and special properties. Add and remove indexes at the click of a button.",image:n(54007),version:"1.5.0",initial:!0},{title:"Schema Validation.",description:"Create schema validation rules with a smart editor that auto-suggests rule components. See immediate results with a live preview and revise rules as needed. See Schema Validation in the MongoDB documentation for more information.",image:n(36582),version:"1.8.0",force:!0,initial:!0},{title:"Improved CRUD",description:"Better editing with validation of individual BSON types.",image:n(85791),version:"1.9.0",initial:!0},{title:"Deployment Awareness",description:"Replica set aware connections allow for continued use during replica set configuration changes and provides additional information of the connected cluster.",image:n(99418),version:"1.9.0",initial:!0},{title:"Query History",description:"Easily access and manage executed queries and save favorites for often executed queries.",image:n(4485),version:"1.9.0",initial:!0}]},45904:(e,t,n)=>{const s=n(38291),i=n(84124),o=n(56462),r=n(97699),a=n(76635),c=n(72298).remote.app,{track:d}=n(6909).createLoggerAndTelemetry("COMPASS-TOUR"),l=39,u=9,p=13,h=32;var m=n(37751),f=i.extend({session:{body:"any",features:{type:"array",required:!1,default:void 0},force:{type:"boolean",default:!1},tourCount:{type:"number",default:0},timeAtStart:{type:"date"}},template({features:e}){const t=e.map(((e,t)=>`\n          <div id="f${t}-content" class="${["feature-content",0===t&&"active"].filter(Boolean).join(" ")}">\n            <h3 class="feature-title">${e.title}</h3>\n            <p class="feature-description">${e.description}</p>\n          </div>`)).join(""),n=e.map(((e,t)=>`<li id="f${t}" class="${0===t?"selected":""}" data-n="${t} title="${e.title}"></li>`)).join("");return`\n      <div id="tour-out" data-test-id="feature-tour-modal">\n        <div id="tour-bg"></div>\n        <div id="tour">\n          <div class="modal-header">\n            <h2 data-hook="title"></h2>\n            <button class="tour-close-button" data-test-id="close-tour-button">&times;</button>\n          </div>\n          <div id="animation">\n            <img id="animation-gif" src="${e[0].image}" />\n          </div>\n          <div id="features">\n            ${t}\n            <div class="pager">\n              <button class="previous-slide hide">Previous</button>\n              <button class="next-slide">Next</button>\n            </div>\n            <div class="get-started-button-holder">\n              <button id="tour-remove" type="button" class="btn btn-info hide">Get Started</button>\n            </div>\n          </div>\n          <div class="clearfix"></div>\n          <div class="pager">\n            <ul>${n}</ul>\n          </div>\n        </div>\n      </div>`},derived:{previousVersion:{deps:["app.preferences.showFeatureTour"],fn:function(){return o.preferences.showFeatureTour||"0.0.0"}},title:{deps:["previousVersion"],fn:function(){return"0.0.0"===this.previousVersion?`Welcome to ${c.getName()}`:`What's New in ${c.getName()}`}}},events:{"click .pager ul":"showFeature","click .previous-slide":"showPreviousFeature","click .next-slide":"showNextFeature","click #tour-remove":"tourRemove","click .tour-close-button":"tourRemove","click #tour-bg":"tourRemove"},bindings:{title:{hook:"title"}},onKeyPress:function(e){27===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.tourRemove()):-1!==[l,u,p,h].indexOf(e.keyCode)?this.showNextFeature():37===e.keyCode&&this.showPreviousFeature()},initialize:function(){this.onKeyPress=this.onKeyPress.bind(this),this._getFeatures()},_getFeatures:function(){var e=this;if(a.isArray(e.features))return e.features;var t=e.previousVersion||"0.0.0";return e.features=a.filter(m,(function(n){return!(!e.force||!n.initial)||!("0.0.0"!==t||!n.initial)||!("0.0.0"===t||!r.gt(n.version,t))})),e.features},render:function(){this.renderWithTemplate(this),this.body=document.getElementsByTagName("body")[0],this.body.addEventListener("keydown",this.onKeyPress),this.$featuresUL=this.query("#features ul"),this.$featuresLI=this.queryAll("#features li"),this.$animationGIF=this.query("#animation-gif"),this.$tourRemove=this.query("#tour-remove"),this.timeAtStart=new Date,a.defer(this.showHidePreviousNextButtons.bind(this))},showHidePreviousNextButtons:function(){0===this.tourCount?s(".previous-slide").addClass("hide"):s(".previous-slide").removeClass("hide"),this.tourCount===this.features.length-1?(s(".next-slide").addClass("hide"),s("#tour-remove").removeClass("hide")):(s(".next-slide").removeClass("hide"),s("#tour-remove").addClass("hide"))},showFeature:function(e){var t=e.target.getAttribute("data-n"),n=this;if(null===t)return!1;var i=parseInt(t,10);s(".pager li.selected").removeClass("selected"),s(".feature-content.active").removeClass("active"),e.target.className="selected",s("#animation-gif").one("webkitTransitionEnd",(function(){n.$animationGIF.src=n.features[i].image,s("#animation-gif").css("opacity","1")})),s("#animation-gif").css("opacity","0"),s(".feature-content#f"+i+"-content").addClass("active"),this.tourCount=i,this.showHidePreviousNextButtons()},showPreviousFeature:function(){if(!(this.tourCount<=0)){var e=this.tourCount-1,t=this;s(".pager li.selected").removeClass("selected"),s(".feature-content.active").removeClass("active"),s(".pager li#f"+e).addClass("selected"),s("#animation-gif").one("webkitTransitionEnd",(function(){t.$animationGIF.src=t.features[e].image,s("#animation-gif").css("opacity","1")})),s("#animation-gif").css("opacity","0"),s(".feature-content#f"+e+"-content").addClass("active"),this.tourCount=e,this.showHidePreviousNextButtons()}},showNextFeature:function(){if(!(this.tourCount>=this.features.length-1)){var e=this.tourCount+1,t=this;s(".pager li.selected").removeClass("selected"),s(".feature-content.active").removeClass("active"),s(".pager li#f"+e).addClass("selected"),s("#animation-gif").one("webkitTransitionEnd",(function(){t.$animationGIF.src=t.features[e].image,s("#animation-gif").css("opacity","1")})),s("#animation-gif").css("opacity","0"),s(".feature-content#f"+e+"-content").addClass("active"),this.tourCount=e,this.showHidePreviousNextButtons()}},tourRemove:function(){const e=this.features[this.tourCount];d("Tour Closed",{tab_title:e.title}),global.hadronApp.appRegistry.emit("tour-closed",e.title),this.trigger("close"),this.body.removeEventListener("keydown",this.onKeyPress),this.remove()}});e.exports=f},38521:()=>{const e=Object.fromEntries(Object.entries({HADRON_APP_VERSION:"1.31.1",HADRON_DISTRIBUTION:"compass",HADRON_PRODUCT:"mongodb-compass",HADRON_PRODUCT_NAME:"MongoDB Compass",HADRON_READONLY:"false",HADRON_ISOLATED:"false",HADRON_CHANNEL:"stable",HADRON_METRICS_BUGSNAG_KEY:"0d11ab5f4d97452cc83d3365c21b491c",HADRON_METRICS_INTERCOM_APP_ID:"p57suhg7",HADRON_METRICS_STITCH_APP_ID:"datawarehouseprod-compass-nqnxw",HADRON_METRICS_SEGMENT_API_KEY:"dkjAjBRQ71BaMpVtx6KB3YAH8i240LAH",HADRON_METRICS_SEGMENT_HOST:null,HADRON_AUTO_UPDATE_ENDPOINT:"https://compass.mongodb.com"}).filter((([,e])=>!!e)));Object.assign(process.env,e)},39854:(e,t,n)=>{e.exports=n(88833),e.exports.resources=n(67270),e.exports.trackers=n(57739)},88833:(e,t,n)=>{var s=n(48290),i=n(85156),o=n(76635),r=n(57739),a=n(90221),c=n(67124),d=n(54675)("mongodb-js-metrics:lib:index"),l=s.extend({collections:{trackers:a,resources:c},initialize:function(){o.each(r,function(e){this.trackers.add(new e)}.bind(this))},configure:function(e,t){var n,s={};if(2===arguments.length)s[e]=t;else{if(1!==arguments.length)throw new Error("configure requires either 1 or 2 arguments.");s=e}o.each(s,function(e,t){(n=this.trackers.get(t))&&(d("configuring tracker `%s` with %j",t,e),n.set(e))}.bind(this))},addResource:function(){o.each(arguments,function(e){e.trackers.reset(this.trackers.models),this.resources.add(e)}.bind(this))},track:function(e,t){var n=this.resources.get(e);if(n){var s=Array.prototype.slice.call(arguments,2);n[t]?(d("tracking resource %s with action %s",e,t),n[t].apply(n,s)):d("ignoring unknown action %s on resource %s",t,e)}else d("Unknown resource `%s`, tried to track action `%s`",e,t)},error:function(){var e=Array.prototype.slice.call(arguments);this.track.apply(this,["Error","error"].concat(e))},warning:function(){var e=Array.prototype.slice.call(arguments);this.track.apply(this,["Error","warning"].concat(e))},info:function(){var e=Array.prototype.slice.call(arguments);this.track.apply(this,["Error","info"].concat(e))},close:function(){r.has("stitch")&&r.get("stitch").close()}});e.exports=i(l,{instantiate:!0})},67124:(e,t,n)=>{var s=n(2326),i=n(93153),o=n(43222);e.exports=s.extend(o,{mainAttribute:"id",model:i})},90221:(e,t,n)=>{var s=n(2326),i=n(48290),o=n(43222);e.exports=s.extend(o,{mainAttribute:"id",model:i})},88216:(e,t,n)=>{var s=n(93153),i=n(24290),o=n(22037);e.exports=s.extend({id:"App",props:{appName:{type:"string",required:!0},appVersion:{type:"string",required:!0},appPlatform:{type:"string",required:!1},appStage:{type:"string",required:!1},osName:{type:"string",required:!1,default:function(){return`${o.platform()} ${o.release()}`}},startTime:{type:"date",required:!0,default:function(){return new Date}}},initialize:function(){s.prototype.initialize.apply(this,arguments)},viewed:function(e,t){var n=this,s={resource:"Screen",action:"viewed",screen:e},o={hitType:"screenview",screenName:e,documentPath:e};i.parallel({event:n._send_event.bind(n,s),ga:n._send_ga.bind(n,o)},(function(e,n){if(t){if(e)return t(e);var s=n.event;s.ga=n.ga,t(null,s)}}))},launched:function(e){var t={name:this.appName,version:this.appVersion,platform:this.appPlatform,osName:this.osName};this._send_event(t,e)},quit:function(e,t){var n=Math.round((new Date-this.startTime)/1e3/60),s={name:this.appName,version:this.appVersion,platform:this.appPlatform,exitCode:e||0,minutesSinceStart:n,osName:this.osName};this._send_event(s,t)},upgraded:function(e,t){var n={name:this.appName,previousVersion:e,version:this.appVersion,platform:this.appPlatform,osName:this.osName};this._send_event(n,t)}})},93153:(e,t,n)=>{var s=n(48290),i=n(1003),o=n(90221),r=n(76635),a=n(73837).format,c=n(24290),d=n(90717).sentenceCase,l=n(98022);e.exports=s.extend({idAttribute:"id",id:"Base",eventTrackers:["ga","intercom","stitch"],collections:{trackers:o},initialize:function(){this.on("change",this._update_trackers.bind(this)),this.listenTo(this.trackers,"add reset",this._update_trackers.bind(this))},_update_trackers:function(){this.trackers.each(function(e){e.set(this.serialize())}.bind(this))},_send_ga:function(e,t){var n=this.trackers.get("ga");return n&&n.enabled?n.send(e,t):t?t(null,!1):void 0},_send_intercom:function(e,t,n){var s=this.trackers.get("intercom");return s&&s.enabled&&(s.send(e,t),n)?n(null,!0):n?n(null,!1):void 0},_send_stitch:function(e,t,n){var s=this.trackers.get("stitch");return s&&s.enabled&&(s.send(e,t),n)?n(null,!0):n?n(null,!1):void 0},_send_event:function(e,t){var n=this,s=r.get(e,"resource",this.id),o=r.get(e,"action",i.getData().methodName);(e=r.omit(e,["resource","action"]))["event id"]=l.v4(),e=d(e);var u,p=a("%s %s",s,o),h={};if(-1!==this.eventTrackers.indexOf("intercom")&&(h.intercom=n._send_intercom.bind(n,p,e)),-1!==this.eventTrackers.indexOf("stitch")&&(h.stitch=n._send_stitch.bind(n,p,e)),-1===["Screen","Error"].indexOf(s)&&-1!==this.eventTrackers.indexOf("ga"))if(r.isEmpty(r.omit(e,"event id")))u={hitType:"event",eventCategory:s,eventAction:o,eventLabel:e["event id"]},h.ga=n._send_ga.bind(n,u);else{var m=r.map(r.omit(e,"event id"),(function(e,t){return u={hitType:"event",eventCategory:p,eventAction:t},r.isNumber(e)?u.eventValue=e:u.eventLabel=String(e),n._send_ga.bind(n,u)}));h.ga=function(e){c.parallel(m,e)}}c.parallel(h,t)}})},27428:(e,t,n)=>{var s=n(93153),i=n(76635),o=n(1003),r=n(73837).format,a=n(26426);e.exports=s.extend({id:"Error",props:{eventTrackers:["array",!0,function(){return["ga","bugsnag","intercom"]}]},_send_ga_exception:function(e,t,n){var s=r("index.js:%s %s",e.lineno,e.message);t=i.defaults(t||{},{hitType:"exception",exDescription:s,exFatal:i.get(t,"fatal",!1)}),this._send_ga(t,n)},_send_bugsnag:function(e,t){var n=i.get(t,"severity",o.getData().methodName);t=i.omit(t,"severity");var s=this.trackers.get("bugsnag");s&&s.send(e,t||{},n)},info:function(e,t){this._send_bugsnag(e,t)},warning:function(e,t){this._send_bugsnag(e,t)},error:function(e,t,n){var s=this,o=i.pick(e,["name","message","lineno","stack"]),r={ga:function(){s._send_ga_exception(e,t,n)},bugsnag:function(){s._send_bugsnag(e,t)},intercom:function(){s._send_intercom("Error",o)},stitch:function(){s._send_stitch("Error error",i.merge({},o,t,{"event id":a()}))}};i.forEach(this.eventTrackers,(function(e){(r[e]||function(){})()}))}})},89666:(e,t,n)=>{var s=n(93153);e.exports=s.extend({id:"Feature",used:function(e,t){e=e||{},this._send_event(e,t)}})},78749:(e,t,n)=>{var s=n(93153),i=n(76635),o="undefined"==typeof window?n(22037):n(72298).remote.require("os");e.exports=s.extend({id:"Host",props:{hostArchitecture:["string",!1],hostCPUCores:["number",!1],hostCPUFreqMHz:["number",!1],hostMemoryTotalGB:["number",!1],hostMemoryFreeGB:["number",!1]},initialize:function(){s.prototype.initialize.apply(this,arguments),this.set({hostArchitecture:o.arch(),hostCPUCores:o.cpus().length,hostCPUFreqMHz:i.get(o.cpus()[0],"speed",0),hostMemoryTotalGB:o.totalmem()/1024/1024/1024,hostMemoryFreeGB:o.freemem()/1024/1024/1024})}})},67270:(e,t,n)=>{e.exports={BaseResource:n(93153),UserResource:n(5412),AppResource:n(88216),ErrorResource:n(27428),FeatureResource:n(89666),HostResource:n(78749)}},5412:(e,t,n)=>{var s=n(93153);e.exports=s.extend({id:"User",props:{userId:{type:"string",required:!0},userHash:"string",createdAt:["date",!0],name:"string",email:"string",developer:"boolean",twitter:"string"},login:function(e,t){this._send_event(e,t)}})},90717:(e,t,n)=>{var s=n(76635);function i(e){return e.replace(/\.?([A-Z]+)/g,(function(e,t){return" "+t.toLowerCase()})).replace("_"," ")}e.exports={sentenceCase:function(e){return s.isPlainObject(e)?s.mapKeys(e,(function(e,t){return i(t)})):i(e)},snakeCase:function(e){return s.isPlainObject(e)?s.mapKeys(e,(function(e,t){return s.snakeCase(t)})):s.snakeCase(e)}}},32573:(e,t,n)=>{var s=n(48290),i=n(76635),o=n(85156),r=n(5051),a=n(54675)("mongodb-js-metrics:trackers:bugsnag"),c=s.extend({id:"bugsnag",props:{apiKey:["string",!0,""],autoNotify:["boolean",!0,!0],metaData:["object",!1],appVersion:["string",!0,""],notifyReleaseStages:{type:"array",default:function(){return["development","production"]}}},session:{enabled:{type:"boolean",required:!0,default:!1},appStage:["string",!0,""],userId:["string",!0,""],bugsnagHandler:["object",!1,null]},derived:{enabledAndConfigured:{deps:["enabled","apiKey"],fn:function(){return this.enabled&&""!==this.apiKey}},releaseStage:{deps:["appStage"],fn:function(){return this.appStage}},user:{deps:["userId"],fn:function(){return{id:this.userId}}}},initialize:function(){this._configureBugsnag=this._configureBugsnag.bind(this),this.beforeNotify=this.beforeNotify.bind(this),this.on("change",this._configureBugsnag)},_configureBugsnag:function(){if(this.enabledAndConfigured&&"undefined"!=typeof window){this.bugsnagHandler=this.bugsnagHandler||n(22335).noConflict();var e=this.serialize({props:!0,derived:!0});e.beforeNotify=this.beforeNotify,delete e.enabledAndConfigured,a("configuring bugsnag with %j",e),i.assign(this.bugsnagHandler,e)}},beforeNotify:function(e){return!(!this.enabled||"MongoError"===e.name||(e.stacktrace=r(e.stacktrace),e.context=r(e.context),e.file=r(e.file),e.message=r(e.message),e.url=r(e.url),e.name=r(e.name),e.metaData&&(e.metaData.groupingHash=e.message),a("sending report to bugsnag",e),0))},send:function(e,t,n){this.enabled&&this.bugsnagHandler.notifyException(e,void 0,t,n)}});e.exports=o(c)},97674:(e,t,n)=>{var s=n(63477),i=n(48290),o="undefined"!=typeof window?n(96290):n(52905),r=n(76635),a=n(85156),c=n(5051),d=n(73837).format,l=n(54675)("mongodb-js-metrics:trackers:ga"),u={version:"v",dataSource:"ds",trackingId:"tid",userId:"cid",hitType:"t",appName:"an",appVersion:"av",appPlatform:"aiid",eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",timingCategory:"utc",timingVar:"utv",timingValue:"utt",timingLabel:"utl",screenName:"cd",documentPath:"dp",exDescription:"exd",exFatal:"exf"},p=i.extend({id:"ga",props:{version:["number",!0,1],dataSource:["string",!0,"app"],trackingId:["string",!0,""],userId:["string",!0,""],appName:["string",!0,""],appVersion:["string",!0,""],appPlatform:["string",!0,""]},session:{enabled:{type:"boolean",required:!0,default:!1},debug:{type:"boolean",required:!0,default:!1},baseUrl:{type:"string",required:!0,default:"https://www.google-analytics.com%s/collect?"}},derived:{url:{deps:["baseUrl","debug"],fn:function(){return d(this.baseUrl,this.debug?"/debug":"")}}},send:function(e,t){if(this.enabled){t=t||function(e){e&&l("Google Analytics returned error:",e.message)},r.defaults(e||{},this.serialize()),e=this.shortify(e),e=c(e);var n=this.url+s.stringify(e);l("sending hit to google analytics",e,n),o.post(n,t)}},shortify:function(e){return r.mapKeys(e,(function(e,t){return void 0===u[t]&&l("warning: key %s not found in GA protocol map.",t),u[t]}))}});e.exports=a(p)},57739:(e,t,n)=>{e.exports={ga:n(97674),bugsnag:n(32573),stitch:n(40139),intercom:n(29741)}},29741:(e,t,n)=>{var s=n(48290),i=n(76635),o=n(85156),r=n(73837).format,a=n(54675)("mongodb-js-metrics:trackers:intercom"),c=n(5051),d=n(90717).sentenceCase,l="undefined"==typeof window?n(22037):n(72298).remote.require("os"),u=s.extend({id:"intercom",props:{appId:["string",!0],widget:{type:"object",required:!0,default:function(){return{activator:"#IntercomDefaultWidget"}}},appName:["string",!1],appVersion:["string",!1],appStage:["string",!1],userId:["string",!0],userHash:["string",!1],createdAt:["date",!0],name:{type:"any",default:void 0,required:!1,allowNull:!0},email:{type:"any",default:void 0,required:!1,allowNull:!0},twitter:{type:"any",default:void 0,required:!1,allowNull:!0},company:["object",!1]},session:{intercomHandle:"any",enabled:["boolean",!0,!1],panelEnabled:{type:"boolean",required:!0,default:!1},hasBooted:["boolean",!0,!1]},derived:{enabledAndConfigured:{deps:["enabled","panelEnabled","appId","userId"],fn:function(){return(this.enabled||this.panelEnabled)&&""!==this.appId&&""!==this.userId}}},_setup:function(){a("setup intercom");var e=this;if("undefined"!=typeof window){var t=window,n=t.Intercom;if("function"==typeof n)n("reattach_activator"),n("update",this.serialize());else{var s=document,i=function(){i.c(arguments)};function o(){var t=s.createElement("script");t.type="text/javascript",t.id="intercom-script",t.async=!0,t.src=r("https://widget.intercom.io/widget/%s",e.appId);var n=s.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}i.q=[],i.c=function(e){i.q.push(e)},t.Intercom=i,"complete"===s.readyState?o():t.attachEvent?t.attachEvent("onload",o):t.addEventListener("load",o,!1)}}},_removeDOMNode:function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)},_teardown:function(){a("teardown intercom"),"undefined"!=typeof window&&(window.Intercom&&(window.Intercom("hide"),window.Intercom("shutdown")),this._removeDOMNode("intercom-container"),this._removeDOMNode("intercom-script"),this.hasBooted=!1)},initialize:function(){this._updateIntercom=this._updateIntercom.bind(this),this._enabledConfiguredChanged=this._enabledConfiguredChanged.bind(this),this.on("change:enabledAndConfigured",this._enabledConfiguredChanged)},_enabledConfiguredChanged:function(){this.enabledAndConfigured?(this._setup(),this._updateIntercom()):this._teardown()},_updateIntercom:function(){var e={user_id:this.userId,user_hash:this.userHash,created_at:Math.floor(this.createdAt.getTime()/1e3),name:this.name,email:this.email,twitter:this.twitter,app_name:this.appName,app_version:this.appVersion,app_stage:this.appStage};void 0!==l&&(e.host_arch=l.arch(),e.host_cpu_cores=l.cpus().length,e.host_cpu_freq_mhz=i.get(l.cpus()[0],"speed","unknown"),e.host_total_memory_gb=l.totalmem()/1024/1024/1024,e.host_free_memory_gb=l.freemem()/1024/1024/1024),"undefined"!=typeof window&&window.Intercom&&(this.hasBooted?window.Intercom("update",e):(e.app_id=this.appId,window.Intercom("boot",e),this.hasBooted=!0))},onShow:function(e){"undefined"!=typeof window&&window.Intercom&&window.Intercom("onShow",e)},onHide:function(e){"undefined"!=typeof window&&window.Intercom&&window.Intercom("onHide",e)},send:function(e,t){this.enabled&&"MongoError"!==t.name&&(t=d(c(t)),a("sending event `%s` to intercom with metadata %j",e,t),"undefined"!=typeof window&&window.Intercom&&window.Intercom("trackEvent",e,t))}});e.exports=o(u)},40139:(e,t,n)=>{var s,i="undefined"==typeof window?n(36274):n(50549),o=n(48290),r=n(76635),a=n(85156),c=n(54675)("mongodb-js-metrics:trackers:stitch"),d=n(5051),l=n(90717).snakeCase,u=n(84935),p="undefined"==typeof window?n(22037):n(72298).remote.require("os"),h=o.extend({id:"stitch",props:{appId:["string",!0],users:{type:"string",default:"metrics.users"},events:{type:"string",default:"metrics.events"},appName:["string",!1],appVersion:["string",!1],appStage:["string",!1],userId:["string",!0],createdAt:["date",!1,null],name:{type:"any",default:void 0,required:!1,allowNull:!0},email:{type:"any",default:void 0,required:!1,allowNull:!0},developer:{type:"any",default:void 0,required:!1,allowNull:!0}},session:{_eventsDatabaseName:"any",_eventsCollectionName:"any",_usersDatabaseName:"any",_usersCollectionName:"any",_client:"any",_callsQueue:["array",!0,function(){return[]}],enabled:["boolean",!0,!1],hasBooted:["boolean",!0,!1]},derived:{enabledAndConfigured:{deps:["enabled","appId","userId","events","users"],fn:function(){return this.enabled&&""!==this.appId&&""!==this.userId}}},initialize:function(){this._identify=this._identify.bind(this),this._enabledConfiguredChanged=this._enabledConfiguredChanged.bind(this),this._trackFromQueue=this._trackFromQueue.bind(this),this.on("change:enabledAndConfigured",this._enabledConfiguredChanged)},_enabledConfiguredChanged:function(){this.enabledAndConfigured&&this._setup().then(function(){this._trackFromQueue(),this._identify()}.bind(this))},_trackFromQueue:function(){for(var e;this._callsQueue.length;)(e=this._callsQueue.shift()).fn.apply(this,e.args)},_isTrackerReady:function(){return this.enabledAndConfigured&&this._client&&this._client.auth.currentUser},close:function(){s&&s.close&&s.close()},_setup:function(){var e=u(this.events);if(this._eventsDatabaseName=e.database,this._eventsCollectionName=e.collection,this.users){var t=u(this.users);this._usersDatabaseName=t.database,this._usersCollectionName=t.collection}var n,o=this;return o._client||(o._client=(n=this.appId,s||(s=i.Stitch.initializeAppClient(n)),s)),o._client.auth.loginWithCredential(new i.AnonymousCredential).then((function(){c("setup client",{_client:o._client,_eventsDatabaseName:o._eventsDatabaseName,_eventsCollectionName:o._eventsCollectionName,_usersDatabaseName:o._usersDatabaseName,_usersCollectionName:o._usersCollectionName})})).catch((function(e){c("error logging in via stitch: %s",e.message)}))},_identify:function(){var e={_id:this.userId,created_at:this.createdAt||new Date},t={last_login:new Date,name:this.name,email:this.email,developer:this.developer,app_name:this.appName,app_version:this.appVersion,app_stage:this.appStage};if(void 0!==p&&(t.host_arch=p.arch(),t.platform=p.platform(),t.os_release=p.release(),t.host_cpu_cores=p.cpus().length,t.host_cpu_freq_mhz=r.get(p.cpus()[0],"speed","unknown"),t.host_total_memory_gb=p.totalmem()/1024/1024/1024,t.host_free_memory_gb=p.freemem()/1024/1024/1024),this.hasBooted||(this.hasBooted=!0),this.users)return this._getCollection(this._usersDatabaseName,this._usersCollectionName,function(n,s){return n?c("error sending identify to stitch: %s",n.message):(t.stitch_user_id=this._client.auth.currentUser.id,c("sending identify",d(t)),s.updateOne({_id:this.userId},{$set:t,$setOnInsert:e},{upsert:!0}))}.bind(this))},_getCollection:function(e,t,n){return this._isTrackerReady()?n(null,this._client.getServiceClient(i.RemoteMongoClient.factory,"mongodb-atlas").db(e).collection(t)):n(new Error("stitch tracker not configured yet."))},send:function(e,t){var n=e.split(" ")[0],s=e.split(" ")[1],i=Object.assign({_id:t["event id"],resource:n,action:s,user_id:this.userId,created_at:new Date});delete t["event id"],i.metadata=l(d(t));var o=function(t,n){return t?c("error sending event to stitch: %s",t.message):(i.stitch_user_id=this._client.auth.currentUser.id,c("sending event `%s`",e,i),n.insertOne(i))}.bind(this);if(this._isTrackerReady())return this._getCollection(this._eventsDatabaseName,this._eventsCollectionName,o);this._callsQueue.push({fn:this._getCollection,args:[this._eventsDatabaseName,this._eventsCollectionName,o]})}});e.exports=a(h)},54208:(e,t,n)=>{"use strict";n(67526),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);const s=Symbol("kDepth"),i=Symbol("kSBENodes");function o(e,t,n=null){const s=t(e,n),i=s||{};return e.inputStage&&(i.inputStage=o(e.inputStage,t,e)),e.innerStage&&(i.innerStage=o(e.innerStage,t,e)),e.outerStage&&(i.outerStage=o(e.outerStage,t,e)),e.thenStage&&(i.thenStage=o(e.thenStage,t,e)),e.elseStage&&(i.elseStage=o(e.elseStage,t,e)),e.inputStages&&(i.inputStages=e.inputStages.map((n=>o(n,t,e)))),e.shards&&(i.shards=e.shards.map((t=>o(t,e)))),e.executionStages&&(i.executionStages=e.executionStages.map((n=>o(n,t,e)))),s}function r(e){return o(e,(t=>e===t?{...e}:void 0))}e.exports=function(e){if(((e=JSON.parse(JSON.stringify(e))).explainVersion||0)<2)return e;delete e.explainVersion,e.queryPlanner.plannerVersion=1;const t=e.queryPlanner.winningPlan.queryPlan;return e.queryPlanner.winningPlan=t,e.executionStats.executionStages=function(e,t){const n=new Map;o(e,(e=>{e.planNodeId&&(n.set(e.planNodeId,e),e[i]=[])})),o(t,((e,t)=>{e[s]=t?t[s]+1:0,e.planNodeId&&n.get(e.planNodeId)[i].push(e)}));for(const e of n.values())e[i].sort(((e,t)=>e[s]-t[s]));return o(e,(e=>{const t=e[i],n=t[0]||{};return{...r(n),...r(e),executionTimeMillisEstimate:n.executionTimeMillis||n.executionTimeMillisEstimate,docsExamined:t.filter((e=>"seek"===e.stage||"scan"===e.stage)).map((e=>e.numReads||0)).reduce(((e,t)=>e+t),0),keysExamined:t.filter((e=>"ixseek"===e.stage||"ixscan"===e.stage)).map((e=>e.numReads||0)).reduce(((e,t)=>e+t),0)}}))}(t,e.executionStats.executionStages),JSON.parse(JSON.stringify(e))}},39752:e=>{const t="@mongodb-js/mongodb-redux-common/app-registry",n=`${t}/LOCAL_APP_REGISTRY_ACTIVATED`,s=`${t}/GLOBAL_APP_REGISTRY_ACTIVATED`,i={localAppRegistry:null,globalAppRegistry:null},o=(e,t,...n)=>{e&&e.emit(t,...n)};e.exports=(e=i,t)=>t.type===n?{...e,localAppRegistry:t.appRegistry}:t.type===s?{...e,globalAppRegistry:t.appRegistry}:e,e.exports.LOCAL_APP_REGISTRY_ACTIVATED=n,e.exports.GLOBAL_APP_REGISTRY_ACTIVATED=s,e.exports.INITIAL_STATE=i,e.exports.localAppRegistryActivated=e=>({type:n,appRegistry:e}),e.exports.globalAppRegistryActivated=e=>({type:s,appRegistry:e}),e.exports.localAppRegistryEmit=(e,...t)=>(n,s)=>{o(s().appRegistry.localAppRegistry,e,...t)},e.exports.globalAppRegistryEmit=(e,...t)=>(n,s)=>{o(s().appRegistry.globalAppRegistry,e,...t)}},64853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SshTunnel:()=>m,default:()=>f}),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456);var s=n(73837),i=n(82361),o=n(13004),r=n(72156),a=n.n(r),c=n(72623),d=n(43375),l=n.n(d),u=n(64782),p=n.n(u);const h=a()("mongodb:ssh-tunnel");class m extends i.EventEmitter{connections=new Set;constructor(e={}){super(),this.rawConfig=function(e){return{localAddr:"127.0.0.1",localPort:0,socks5Username:void 0,socks5Password:void 0,...e}}(e),this.sshClient=new o.Client,this.forwardOut=(0,s.promisify)(this.sshClient.forwardOut.bind(this.sshClient)),this.server=c.createServer((async(e,t,n)=>{h("receiving socks5 forwarding request",e);let s=null;try{const n=await this.forwardOut(e.srcAddr,e.srcPort,e.dstAddr,e.dstPort);h("channel opened, accepting socks5 request",e),s=t(!0),this.connections.add(s),s.on("error",(t=>{h("error on socksv5 socket",e,t),t.origin=t.origin??"connection",this.server.emit("error",t)})),s.once("close",(()=>{h("socksv5 socket closed, removing from set"),this.connections.delete(s)})),s.pipe(n).pipe(s)}catch(t){h("caught error, rejecting socks5 request",e,t),n(),s&&(t.origin="ssh-client",s.destroy(t))}})),this.rawConfig.socks5Username?this.server.useAuth(p()(((e,t,n)=>{const s=this.rawConfig.socks5Username===e&&this.rawConfig.socks5Password===t;h("validating auth parameters",s),process.nextTick(n,s)}))):(h("skipping auth setup for this server"),this.server.useAuth(l()())),this.serverListen=(0,s.promisify)(this.server.listen.bind(this.server)),this.serverClose=(0,s.promisify)(this.server.close.bind(this.server));for(const e of["close","error","listening"])this.server.on(e,this.emit.bind(this,e))}get config(){const e=this.server.address();return{...this.rawConfig,localPort:"string"!=typeof e&&e?.port||this.rawConfig.localPort}}async listen(){const{localPort:e,localAddr:t}=this.rawConfig;h("starting to listen",{localAddr:t,localPort:e}),await this.serverListen(e,t);try{h("creating SSH connection"),await Promise.race([(0,i.once)(this.sshClient,"error").then((([e])=>{throw e})),(()=>{const e=(0,i.once)(this.sshClient,"ready");return this.sshClient.connect(function(e){const{localAddr:t,localPort:n,socks5Password:s,socks5Username:i,...o}=e;return o}(this.rawConfig)),e})()]),h("created SSH connection")}catch(e){throw h("failed to establish SSH connection",e),await this.serverClose(),e}}async close(){h("closing SSH tunnel");const[e]=await Promise.all([this.serverClose().catch((e=>e)),this.closeSshClient(),this.closeOpenConnections()]);if(e)throw e}async closeSshClient(){try{return(0,i.once)(this.sshClient,"close")}finally{this.sshClient.end()}}async closeOpenConnections(){const e=[];this.connections.forEach((t=>{e.push((0,i.once)(t,"close")),t.destroy()})),await Promise.all(e),this.connections.clear()}}const f=m},37421:(e,t,n)=>{e.exports=n(81039)},82862:(e,t,n)=>{var s=n(21516).P,i=n(76304)("mongodb-storage-mixin:backends:base");function o(){}o.prototype.clear=function(e){e(new Error("Not implemented"))},o.prototype._getId=function(e){return"string"==typeof e?e:e.getId()},o.prototype.findOne=function(e,t,n){n(new Error("Not implemented"))},o.prototype.create=function(e,t,n){n(new Error("Not implemented"))},o.prototype.update=function(e,t,n){n(new Error("Not implemented"))},o.prototype.remove=function(e,t,n){n(new Error("Not implemented"))},o.prototype.find=function(e,t,n){n(new Error("Not implemented"))},o.prototype.serialize=function(e){return e.serialize()},o.prototype.deserialize=function(e){return JSON.parse(e)},o.prototype.exec=function(e,t,n,o){o=o||s(e,t,n),i("exec",{method:e}),"read"===e?t.isCollection?this.find(t,n,o):this.findOne(t,n,o):"create"===e?this.create(t,n,o):"update"===e?this.update(t,n,o):"delete"===e&&this.remove(t,n,o)},e.exports=o},5932:(e,t,n)=>{var s=n(73837).inherits,i=n(82862),o=n(57147),r=n(1162),a=n(71017),c=n(24290),d=n(76635),l=n(42133),u=n(76304)("storage-mixin:backends:disk"),p=/.json$/gi;if(d.isEmpty(o))try{o=window.require("electron").remote.require("fs")}catch(e){throw new Error("browser context, `fs` module not available for disk storage")}function h(e){if(!(this instanceof h))return new h(e);e=d.defaults(e,{basepath:"."}),this.basepath=e.basepath,this.namespace=e.namespace;try{o.mkdirSync(this._getPath())}catch(e){}}s(h,i),h.clear=function(e,t,n){void 0===n&&(n=t,t="."),l(a.join(e,t),n)},h.prototype._getPath=function(){return a.join(process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST_BASE_PATH||this.basepath,this.namespace)},h.prototype._getId=function(e){var t="string"==typeof e?e:e.getId();return a.join(this._getPath(),t+".json")},h.prototype._write=function(e,t,n){var s=this._getId(e);u("_write",s),r(s,JSON.stringify(this.serialize(e)),n)},h.prototype.remove=function(e,t,n){var s=this._getId(e);o.exists(s,(function(e){if(!e)return u("remove: skipping",s,"not exists"),n();u("remove: unlinking",s),o.unlink(s,n)}))},h.prototype.update=h.prototype._write,h.prototype.create=h.prototype._write,h.prototype.findOne=function(e,t,n){var s=this._getId(e);o.exists(s,(function(e){if(!e)return n(null,{});o.readFile(s,"utf8",(function(e,t){if(e)return n(e);try{var s=JSON.parse(t);n(null,s)}catch(e){n(e)}}))}))},h.prototype.find=function(e,t,n){var s=this;o.readdir(this._getPath(),(function(e,i){if(e)return n(e);if(0===i.length)return u("no keys found for namespace `%s`",s.namespace),n(null,[]);var o=i.filter((function(e){return e.match(p)})).map((function(e){return s.findOne.bind(s,a.basename(e,a.extname(e)),t)}));u("fetching %d models",o.length),c.parallel(o,n)}))},e.exports=h},21516:(e,t,n)=>{const s=n(76304)("mongodb-storage-mixin:backends:errback");e.exports.P=function(e,t,n){return function(e,t){if(e){if(n.error)return n.error(t,e);throw s("An error ocurred with no handler specified!",e),e}if(n.success)return n.success(t)}},e.exports.U=function(e){return{success:function(t){e(null,t)},error:function(t,n){e(n)}}}},18993:(e,t,n)=>{e.exports={local:n(66019),disk:n(5932),secure:n(23328),remote:n(69904),null:n(93444),splice:n(69092),"splice-disk":n(34763),"splice-disk-ipc":n(30045),"secure-ipc":n(74867),"secure-main":n(34254)}},66019:(e,t,n)=>{var s=n(73837).inherits,i=n(82862),o=n(93444),r=n(76635),a=n(24290),c=n(75486),d=n(76304)("mongodb-storage-mixin:backends:local"),l={};function u(e){if(!(this instanceof u))return new u(e);e=r.defaults(e,{appName:"storage-mixin",driver:"INDEXEDDB"}),this.namespace=e.namespace,this.namespace in l?this.store=l[this.namespace]:(this.store=c.createInstance({driver:c[e.driver],name:e.appName,storeName:this.namespace}),l[this.namespace]=this.store)}s(u,i),u.clear=function(e,t){e in l?(d("Clearing store for",e),l[e].clear(t)):t()},u.prototype._write=function(e,t,n){this.store.setItem(this._getId(e),this.serialize(e),n)},u.prototype.findOne=function(e,t,n){const s=this._getId(e);this.store.getItem(s,((e,t)=>{e?n(e):(t||(d(`Can't find model with id ${s}`),t={}),n(null,t))}))},u.prototype.remove=function(e,t,n){this.store.removeItem(this._getId(e),n)},u.prototype.update=u.prototype._write,u.prototype.create=u.prototype._write,u.prototype.find=function(e,t,n){var s=this;this.store.keys((function(e,i){if(e)return n(e);if(0===i.length)return d("no keys found for namespace `%s`",s.namespace),n(null,[]);var o=i.map((function(e){return s.findOne.bind(s,e,t)}));d("fetching `%d` keys on namespace `%s`",o.length,s.namespace),a.parallel(o,n)}))},e.exports="undefined"!=typeof window?u:o},93444:(e,t,n)=>{var s=n(73837).inherits,i=n(82862),o=n(76304)("storage-mixin:backends:null");function r(e){if(!(this instanceof r))return new r(e);this.namespace=e.namespace,o("Warning: the `null` storage backend does not store any data.")}s(r,i),r.clear=function(e,t){t()},r.prototype._done=function(e,t,n){n()},r.prototype.remove=r.prototype._done,r.prototype.update=r.prototype._done,r.prototype.create=r.prototype._done,r.prototype.findOne=function(e,t,n){n(null,{})},r.prototype.find=function(e,t,n){n(null,[])},r.isNullBackend=!0,e.exports=r},69904:(e,t,n)=>{var s=n(58093),i=n(76635),o=n(82862);function r(e){if(!(this instanceof r))return new r(e);this.namespace=e.namespace,this.options=i.omit(e,["namespace","backend"])}(0,n(73837).inherits)(r,o),r.clear=function(e,t){t()},r.prototype.exec=function(e,t,n){i.defaults(n,this.options),s(e,t,n)},e.exports=r},74867:(e,t,n)=>{const s=n(73837).inherits,i=n(82862),o=n(76635),r=n(76304)("mongodb-storage-mixin:backends:secure-ipc"),a=n(26426);function c(e){if(!(this instanceof c))return new c(e);e=o.defaults(e,{appName:"storage-mixin"}),this.namespace=e.appName+"/"+e.namespace}if(s(c,i),"undefined"!=typeof window){const e=n(45727);c.clear=function(t,n){const s=`storage-mixin/${t}`;r("Clearing all secure values for",s),e.call("storage-mixin:clear",{serviceName:s}).then((()=>n())).catch(n)},c.prototype.remove=function(t,n,s){const i=this._getId(t),o=this.namespace;e.call("storage-mixin:remove",{accountName:i,serviceName:o}).then((()=>s())).catch(s)},c.prototype.update=function(t,n,s){const i=this.namespace,o=this._getId(t),r=JSON.stringify(this.serialize(t));e.call("storage-mixin:update",{accountName:o,serviceName:i,value:r}).then((()=>s())).catch(s)},c.prototype.create=function(t,n,s){const i=this.namespace,o=this._getId(t),r=JSON.stringify(this.serialize(t));e.call("storage-mixin:create",{accountName:o,serviceName:i,value:r}).then((()=>s())).catch(s)},c.prototype.findOne=function(t,n,s){const i=this.namespace,o=this._getId(t),r=a();e.on("storage-mixin:find-one:result",((e,t)=>{t.uuid===r&&(t.rawJsonString?s(null,JSON.parse(t.rawJsonString)):s(null,{}))})),e.call("storage-mixin:find-one",{accountName:o,serviceName:i,uuid:r})},c.prototype.find=function(t,n,s){r("Fetching data...",t.length);const i=e=>{if(e.namespace===this.namespace){const n=t.reduce(((t,n)=>{const s=n.getId(),i=e.credentials.find((e=>e.account===s)),r={};if(r[n.idAttribute]=s,i){const e=JSON.parse(i.password);o.assign(r,e)}return t.push(r),t}),[]);s(null,n)}},c=a(),d=(t,n)=>{try{if(n.callId&&n.callId!==c)return void r("Skip response from another storage-mixin:find call",{expectedCallId:c,receivedCallId:n.callId});r("Processing results of storage-mixin:find",{callId:n.callId}),e.removeListener("storage-mixin:find:result",d),i(n)}catch(e){r("Error processing the results of storage-mixin:find",e)}};e.on("storage-mixin:find:result",d),e.call("storage-mixin:find",{callId:c,namespace:this.namespace})}}e.exports=c},34254:(e,t,n)=>{const s=n(76304)("mongodb-storage-mixin:backends:secure-main");if(process&&"browser"===process.type){const e=n(45727);e.respondTo("storage-mixin:clear",((e,t)=>(s("Clearing all secure values for",t.serviceName),n(74602).findCredentials(t.serviceName).then((function(e){return Promise.all(e.map((function(e){const i=e.account;return n(74602).deletePassword(t.serviceName,i).then((function(){return s("Deleted account %s successfully",i),i})).catch((function(e){throw s("Failed to delete",i,e),e}))})))})).then((function(e){s("Cleared %d accounts for serviceName %s",e.length,t.serviceName,e)})).catch((function(e){s("Failed to clear credentials!",e)}))))),e.respondTo("storage-mixin:remove",((e,t)=>n(74602).deletePassword(t.serviceName,t.accountName).then((function(){s("Removed password for",{service:t.serviceName,account:t.accountName})})).catch((e=>{s("Error removing password",e)})))),e.respondTo("storage-mixin:update",((e,t)=>n(74602).setPassword(t.serviceName,t.accountName,t.value).then((function(){s("Updated password successfully for",{service:t.serviceName,account:t.accountName})})).catch((function(e){s("Error updating password",e)})))),e.respondTo("storage-mixin:create",((e,t)=>n(74602).setPassword(t.serviceName,t.accountName,t.value).then((function(){s("Successfully dreated password for",{service:t.serviceName,account:t.accountName})})).catch((function(e){s("Error creating password",e)})))),e.respondTo("storage-mixin:find-one",((t,i)=>n(74602).getPassword(i.serviceName,i.accountName).then((function(t){e.broadcast("storage-mixin:find-one:result",{uuid:i.uuid,rawJsonString:t})})).catch((function(e){s("Error finding one",e)})))),e.respondTo("storage-mixin:find",((t,i)=>n(74602).findCredentials(i.namespace).then((function(t){e.broadcast("storage-mixin:find:result",{namespace:i.namespace,credentials:t,callId:i.callId})})).catch((function(e){s("Error finding",e)}))))}},23328:(e,t,n)=>{var s=n(73837).inherits,i=n(82862),o=n(76635),r=n(76304)("mongodb-storage-mixin:backends:secure");function a(e){if(!(this instanceof a))return new a(e);e=o.defaults(e,{appName:"storage-mixin"}),this.namespace=e.appName+"/"+e.namespace}s(a,i),a.clear=function(e,t){var s,i=`storage-mixin/${e}`;r("Clearing all secure values for",i);try{s=n(74602).findCredentials(i)}catch(e){throw r("Error calling findCredentials",e),e}s.then((function(e){return r("Found credentials",e.map((function(e){return e.account}))),Promise.all(e.map((function(e){var t=e.account;return n(74602).deletePassword(i,t).then((function(){return r("Deleted account %s successfully",t),t})).catch((function(e){throw r("Failed to delete",t,e),e}))})))})).then((function(e){r("Cleared %d accounts for serviceName %s",e.length,i,e),t()})).catch((function(e){r("Failed to clear credentials!",e),t(e)}))},a.prototype.remove=function(e,t,s){var i=this._getId(e),o=this.namespace;n(74602).deletePassword(o,i).then((function(){r("Removed password for",{service:o,account:i}),s()})).catch(s)},a.prototype.update=function(e,t,s){var i=this.namespace,o=this._getId(e),a=JSON.stringify(this.serialize(e));n(74602).setPassword(i,o,a).then((function(){r("Updated password successfully for",{service:i,account:o}),s()})).catch((function(e){s(e)}))},a.prototype.create=function(e,t,s){var i=this.namespace,o=this._getId(e),a=JSON.stringify(this.serialize(e));n(74602).setPassword(i,o,a).then((function(){r("Successfully dreated password for",{service:i,account:o}),s()})).catch((function(e){s(e)}))},a.prototype.findOne=function(e,t,s){var i=this.namespace,o=this._getId(e);n(74602).getPassword(i,o).then((function(e){if(!e)return r("findOne failed. No value found",{service:i,account:o}),s(null,{});r("findOne successful",{service:i,account:o}),s(null,JSON.parse(e))})).catch(s)},a.prototype.find=function(e,t,s){r("Fetching data...",e.length),n(74602).findCredentials(this.namespace).then((function(t){var n=e.reduce((function(e,n){var s=n.getId(),i=t.find((function(e){return e.account===s})),r={};if(r[n.idAttribute]=s,i){var a=JSON.parse(i.password);o.assign(r,a)}return e.push(r),e}),[]);return s(null,n)})).catch(s)},e.exports=a},30045:(e,t,n)=>{var s=n(76635),i=n(24290),o=n(82862),r=n(5932),a=n(93444),c=n(74867),d=n(21516).P,l=n(21516).U,u=n(71790).L,p=n(73837).inherits,h=n(29728),m=n(76304)("mongodb-storage-mixin:backends:splice-disk");function f(e){if("true"===process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST)return new h(e);if("undefined"==typeof window)return a;if(!(this instanceof f))return new f(e);e=s.defaults(e,{appName:"storage-mixin",secureCondition:function(e,t){return t.match(/password/)}}),this.namespace=e.namespace;var t=e.secureCondition;r.prototype.serialize=function(e){return m("Serializing for disk backend with condition",t),s.omitBy(e.serialize(),t)},this.diskBackend=new r(e),c.prototype.serialize=function(e){return m("Serializing for secure backend with condition",t),s.pickBy(e.serialize(),t)},this.secureBackend=new c(e)}p(f,o),f.clear=function(e,t){m("Clear for all involved backends");var n=[r.clear.bind(null,e),c.clear.bind(null,e)];i.parallel(n,t)},f.prototype.exec=function(e,t,n,o){var r=this;o=o||d(e,t,n);var a=[function(n){r.diskBackend.exec(e,t,l(n))},function(n,i){t.set(n,{silent:!0,sort:!1}),r.secureBackend.exec(e,t,l((function(e,o){return e?i(e):s.isEmpty(n)?i(null,t.isCollection?[]:{}):void u(n,o,t,i)})))}];i.waterfall(a,o)},e.exports=f},34763:(e,t,n)=>{var s=n(76635),i=n(24290),o=n(82862),r=n(5932),a=n(93444),c=n(23328),d=n(21516).P,l=n(21516).U,u=n(73837).inherits,p=n(39491),h=n(76304)("mongodb-storage-mixin:backends:splice-disk");function m(e){if(!(this instanceof m))return new m(e);e=s.defaults(e,{appName:"storage-mixin",secureCondition:function(e,t){return t.match(/password/)}}),this.namespace=e.namespace;var t=e.secureCondition;r.prototype.serialize=function(e){return h("Serializing for disk backend with condition",t),s.omitBy(e.serialize(),t)},this.diskBackend=new r(e),c.prototype.serialize=function(e){return h("Serializing for secure backend with condition",t),s.pickBy(e.serialize(),t)},this.secureBackend=new c(e)}u(m,o),m.clear=function(e,t){h("Clear for all involved backends");var n=[r.clear.bind(null,e),c.clear.bind(null,e)];i.parallel(n,t)},m.prototype.exec=function(e,t,n,o){var r=this;o=o||d(e,t,n);var c=[function(n){r.diskBackend.exec(e,t,l(n))},function(n,i){t.set(n,{silent:!0,sort:!1}),r.secureBackend.exec(e,t,l((function(e,o){if(e)return i(e);!t.isCollection||r.secureBackend instanceof a||s.each(n,(function(e,n){p.equal(e[t.mainIndex],o[n][t.mainIndex])})),i(null,s.merge(n,o))})))}];i.waterfall(c,o)},e.exports="undefined"!=typeof window?m:a},69092:(e,t,n)=>{var s=n(76635),i=n(24290),o=n(82862),r=n(66019),a=n(93444),c=n(23328),d=n(21516).P,l=n(21516).U,u=n(71790).L,p=n(73837).inherits,h=n(76304)("mongodb-storage-mixin:backends:splice");function m(e){if(!(this instanceof m))return new m(e);e=s.defaults(e,{appName:"storage-mixin",secureCondition:function(e,t){return t.match(/password/)}}),this.namespace=e.namespace;var t=e.secureCondition;r.prototype.serialize=function(e){return h("Serializing for local backend with condition",t),s.omitBy(e.serialize(),t)},this.localBackend=new r(e),c.prototype.serialize=function(e){return h("Serializing for secure backend with condition",t),s.pickBy(e.serialize(),t)},this.secureBackend=new c(e)}p(m,o),m.clear=function(e,t){h("Clear for all involved backends");var n=[r.clear.bind(null,e),c.clear.bind(null,e)];i.parallel(n,t)},m.prototype.exec=function(e,t,n,o){var r=this;o=o||d(e,t,n);var a=[function(n){r.localBackend.exec(e,t,l(n))},function(n,i){t.set(n,{silent:!0,sort:!1}),r.secureBackend.exec(e,t,l((function(e,o){return e?i(e):s.isEmpty(n)?i(null,t.isCollection?[]:{}):void u(n,o,t,i)})))}];i.waterfall(a,o)},e.exports="undefined"!=typeof window?m:a},29728:(e,t,n)=>{const s=n(71017),i=n(22037),o=n(5932);function r(e){return new o(Object.assign({},e,{basepath:process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST_BASE_PATH||s.join(i.tmpdir(),"compass-storage-mixin-tests")}))}r.enable=e=>{process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST="true",process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST_BASE_PATH=e},r.disable=()=>{delete process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST,delete process.env.MONGODB_COMPASS_STORAGE_MIXIN_TEST_BASE_PATH},e.exports=r},71790:(e,t,n)=>{var s=n(76635);e.exports.L=function(e,t,n,i){if(n.isCollection)return i(null,e.reduce(((e,i)=>{const o=t.find((e=>e[n.mainIndex]===i[n.mainIndex]));return e.push(s.merge(i,o)),e}),[]));i(null,s.merge(e,t))}},81039:(e,t,n)=>{var s=n(18993),i=n(76304)("storage-mixin");e.exports={TestBackend:n(29728),secureMain:s["secure-main"],storage:"local",session:{fetched:{type:"boolean",required:!0,default:!1}},_initializeMixin:function(){var e=this.storage;"object"!=typeof this.storage&&(e={backend:this.storage}),e.namespace=this.namespace,this._storageBackend=new s[e.backend](e)},sync:function(e,t,n){this._storageBackend||this._initializeMixin();var s=this,o=n.success;n.success=function(e){o&&(s.fetched=!0,o.call(s,e))},n.error=function(e,t){throw i("Unexpected storage-mixin sync error",{err:t,resp:e}),t},this.fetched=!1,this._storageBackend.exec(e,t,n)}}},96616:(e,t,n)=>{var s={"./af":95191,"./af.js":95191,"./ar":54358,"./ar-dz":71727,"./ar-dz.js":71727,"./ar-kw":98279,"./ar-kw.js":98279,"./ar-ly":87895,"./ar-ly.js":87895,"./ar-ma":11987,"./ar-ma.js":11987,"./ar-sa":52796,"./ar-sa.js":52796,"./ar-tn":12386,"./ar-tn.js":12386,"./ar.js":54358,"./az":57452,"./az.js":57452,"./be":79053,"./be.js":79053,"./bg":65428,"./bg.js":65428,"./bm":21569,"./bm.js":21569,"./bn":56212,"./bn-bd":24635,"./bn-bd.js":24635,"./bn.js":56212,"./bo":6341,"./bo.js":6341,"./br":192,"./br.js":192,"./bs":51802,"./bs.js":51802,"./ca":19118,"./ca.js":19118,"./cs":39990,"./cs.js":39990,"./cv":30557,"./cv.js":30557,"./cy":4227,"./cy.js":4227,"./da":95406,"./da.js":95406,"./de":87994,"./de-at":44139,"./de-at.js":44139,"./de-ch":86591,"./de-ch.js":86591,"./de.js":87994,"./dv":94649,"./dv.js":94649,"./el":14453,"./el.js":14453,"./en-au":48428,"./en-au.js":48428,"./en-ca":36972,"./en-ca.js":36972,"./en-gb":13224,"./en-gb.js":13224,"./en-ie":18843,"./en-ie.js":18843,"./en-il":32732,"./en-il.js":32732,"./en-in":76579,"./en-in.js":76579,"./en-nz":29851,"./en-nz.js":29851,"./en-sg":70442,"./en-sg.js":70442,"./eo":10654,"./eo.js":10654,"./es":63621,"./es-do":68791,"./es-do.js":68791,"./es-mx":67278,"./es-mx.js":67278,"./es-us":60717,"./es-us.js":60717,"./es.js":63621,"./et":72404,"./et.js":72404,"./eu":62944,"./eu.js":62944,"./fa":30496,"./fa.js":30496,"./fi":98137,"./fi.js":98137,"./fil":32872,"./fil.js":32872,"./fo":6545,"./fo.js":6545,"./fr":49090,"./fr-ca":13049,"./fr-ca.js":13049,"./fr-ch":12338,"./fr-ch.js":12338,"./fr.js":49090,"./fy":95088,"./fy.js":95088,"./ga":77812,"./ga.js":77812,"./gd":8374,"./gd.js":8374,"./gl":63649,"./gl.js":63649,"./gom-deva":52674,"./gom-deva.js":52674,"./gom-latn":44948,"./gom-latn.js":44948,"./gu":24033,"./gu.js":24033,"./he":10175,"./he.js":10175,"./hi":58055,"./hi.js":58055,"./hr":41678,"./hr.js":41678,"./hu":85111,"./hu.js":85111,"./hy-am":26530,"./hy-am.js":26530,"./id":38928,"./id.js":38928,"./is":11696,"./is.js":11696,"./it":98710,"./it-ch":38821,"./it-ch.js":38821,"./it.js":98710,"./ja":93974,"./ja.js":93974,"./jv":70648,"./jv.js":70648,"./ka":54731,"./ka.js":54731,"./kk":48029,"./kk.js":48029,"./km":84398,"./km.js":84398,"./kn":91825,"./kn.js":91825,"./ko":13729,"./ko.js":13729,"./ku":19670,"./ku.js":19670,"./ky":78797,"./ky.js":78797,"./lb":50627,"./lb.js":50627,"./lo":65859,"./lo.js":65859,"./lt":80355,"./lt.js":80355,"./lv":16594,"./lv.js":16594,"./me":45324,"./me.js":45324,"./mi":11689,"./mi.js":11689,"./mk":61308,"./mk.js":61308,"./ml":85241,"./ml.js":85241,"./mn":76320,"./mn.js":76320,"./mr":96771,"./mr.js":96771,"./ms":20503,"./ms-my":77748,"./ms-my.js":77748,"./ms.js":20503,"./mt":55534,"./mt.js":55534,"./my":62727,"./my.js":62727,"./nb":7550,"./nb.js":7550,"./ne":49899,"./ne.js":49899,"./nl":41228,"./nl-be":31225,"./nl-be.js":31225,"./nl.js":41228,"./nn":97130,"./nn.js":97130,"./oc-lnc":93130,"./oc-lnc.js":93130,"./pa-in":91282,"./pa-in.js":91282,"./pl":28190,"./pl.js":28190,"./pt":41549,"./pt-br":78135,"./pt-br.js":78135,"./pt.js":41549,"./ro":307,"./ro.js":307,"./ru":89272,"./ru.js":89272,"./sd":40056,"./sd.js":40056,"./se":74969,"./se.js":74969,"./si":65522,"./si.js":65522,"./sk":61581,"./sk.js":61581,"./sl":56428,"./sl.js":56428,"./sq":34611,"./sq.js":34611,"./sr":19821,"./sr-cyrl":20185,"./sr-cyrl.js":20185,"./sr.js":19821,"./ss":35029,"./ss.js":35029,"./sv":80939,"./sv.js":80939,"./sw":72407,"./sw.js":72407,"./ta":72304,"./ta.js":72304,"./te":72550,"./te.js":72550,"./tet":99717,"./tet.js":99717,"./tg":87669,"./tg.js":87669,"./th":94959,"./th.js":94959,"./tk":92661,"./tk.js":92661,"./tl-ph":52234,"./tl-ph.js":52234,"./tlh":94120,"./tlh.js":94120,"./tr":81111,"./tr.js":81111,"./tzl":53080,"./tzl.js":53080,"./tzm":88246,"./tzm-latn":25385,"./tzm-latn.js":25385,"./tzm.js":88246,"./ug-cn":48777,"./ug-cn.js":48777,"./uk":2014,"./uk.js":2014,"./ur":45953,"./ur.js":45953,"./uz":89716,"./uz-latn":87791,"./uz-latn.js":87791,"./uz.js":89716,"./vi":99816,"./vi.js":99816,"./x-pseudo":94450,"./x-pseudo.js":94450,"./yo":22556,"./yo.js":22556,"./zh-cn":7414,"./zh-cn.js":7414,"./zh-hk":50824,"./zh-hk.js":50824,"./zh-mo":88589,"./zh-mo.js":88589,"./zh-tw":63285,"./zh-tw.js":63285};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=o,e.exports=i,i.id=96616},8909:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=8909,e.exports=t},63682:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=63682,e.exports=t},22185:e=>{"use strict";e.exports='<div\n  class="modal fade"\n  id="networkOptIn"\n  tabindex="-1"\n  role="dialog"\n  data-hook="main-modal"\n  data-test-id="privacy-settings-modal"\n>\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h4 class="modal-title" data-test-id="modal-title">Privacy Settings</h4>\n      </div>\n      <div class="modal-body">\n        <p>\n          To enhance the user experience, Compass can integrate with 3rd party\n          services, which requires external network requests. Please choose from\n          the settings below:\n        </p>\n        <form>\n          <ul>\n            <li>\n              <label\n                ><input\n                  type="checkbox"\n                  name="autoUpdates"\n                  data-hook="auto-updates-checkbox"\n                  data-test-id="auto-updates-checkbox"\n                /><span>Enable Automatic Updates</span></label\n              >\n              <p class="option-description">\n                Allow Compass to periodically check for new updates.\n              </p>\n            </li>\n            <li>\n              <label\n                ><input\n                  type="checkbox"\n                  name="enableMaps"\n                  data-hook="enable-maps-checkbox"\n                  data-test-id="enable-maps-checkbox"\n                /><span>Enable Geographic Visualizations</span></label\n              >\n              <p class="option-description">\n                Allow Compass to make requests to a 3rd party mapping service.\n              </p>\n            </li>\n            <li>\n              <label\n                ><input\n                  type="checkbox"\n                  name="trackErrors"\n                  data-hook="track-errors-checkbox"\n                  data-test-id="track-errors-checkbox"\n                /><span>Enable Crash Reports</span></label\n              >\n              <p class="option-description">\n                Allow Compass to send crash reports containing stack traces and\n                unhandled exceptions.\n              </p>\n            </li>\n            <li>\n              <label\n                ><input\n                  type="checkbox"\n                  name="trackUsageStatistics"\n                  data-hook="usage-stats-checkbox"\n                  data-test-id="usage-stats-checkbox"\n                /><span>Enable Usage Statistics</span></label\n              >\n              <p class="option-description">\n                Allow Compass to send anonymous usage statistics.\n              </p>\n            </li>\n            <li>\n              <label\n                ><input\n                  type="checkbox"\n                  name="enableFeedbackPanel"\n                  data-hook="product-feedback-checkbox"\n                  data-test-id="product-feedback-checkbox"\n                /><span>Give Product Feedback</span></label\n              >\n              <p class="option-description">\n                Enables a tool that our Product\n                team can use to occasionally reach out for feedback about Compass.\n              </p>\n            </li>\n          </ul>\n        </form>\n        <p>\n          With any of these options, none of your personal information or stored\n          data will be submitted.<br />Learn more: <a\n            href="https://www.mongodb.com/legal/privacy-policy"\n            >MongoDB Privacy Policy</a\n          >\n        </p>\n      </div>\n      <div class="modal-footer">\n        <button\n          class="btn btn-primary"\n          type="button"\n          data-dismiss="modal"\n          data-hook="start-button"\n          data-test-id="close-privacy-settings-button"\n        ></button>\n      </div>\n    </div>\n  </div>\n</div>\n'},21416:(e,t,n)=>{"use strict";e.exports=n.p+"assets/crud.372379dec81cc62b027a.png"},36169:(e,t,n)=>{"use strict";e.exports=n.p+"assets/explain.3004bd2e1682468d21e4.png"},17054:(e,t,n)=>{"use strict";e.exports=n.p+"assets/geo.b843b88ae1b49a83455b.png"},85791:(e,t,n)=>{"use strict";e.exports=n.p+"assets/improved-crud.0dfd1d8fbbbf8c85af2e.png"},54007:(e,t,n)=>{"use strict";e.exports=n.p+"assets/indexes.9b8939f6e0089e912125.png"},19211:(e,t,n)=>{"use strict";e.exports=n.p+"assets/performance.53da3e38999bd1c0e26a.png"},4485:(e,t,n)=>{"use strict";e.exports=n.p+"assets/query-history.7039162b0838b86c0c9f.png"},99418:(e,t,n)=>{"use strict";e.exports=n.p+"assets/replica-set-name.fe1563c2a111e0a4111f.png"},43058:(e,t,n)=>{"use strict";e.exports=n.p+"assets/schema.ed517f8575ab358e2fb1.png"},75020:(e,t,n)=>{"use strict";e.exports=n.p+"assets/sidebar.3995220eda8a63c7006c.png"},36582:(e,t,n)=>{"use strict";e.exports=n.p+"assets/validation.4bd0ea10640ef111e451.png"},83678:e=>{"use strict";e.exports=require("bson-ext")},13617:e=>{"use strict";e.exports=require("kerberos")},74602:e=>{"use strict";e.exports=require("keytar")},64529:e=>{"use strict";e.exports=require("mongodb-client-encryption")},38560:e=>{"use strict";e.exports=require("os-dns-native")},78349:e=>{"use strict";e.exports=require("snappy")},13081:e=>{"use strict";e.exports=require("snappy/package.json")},28072:e=>{"use strict";e.exports=require("system-ca")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},5588:e=>{"use strict";e.exports=require("clipboard")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},13639:e=>{"use strict";e.exports=require("domain")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},35034:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},84655:e=>{"use strict";e.exports=require("v8")},26144:e=>{"use strict";e.exports=require("vm")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"mongodb-compass","private":true,"productName":"MongoDB Compass","description":"The MongoDB GUI","homepage":"https://compass.mongodb.com","version":"1.31.1","apiVersion":"3.0.0","main":"build/main.js","author":{"name":"MongoDB Inc","email":"compass@mongodb.com"},"shortcutFolderName":"MongoDB","license":"SSPL","config":{"hadron":{"endpoint":"https://compass.mongodb.com","protocols":[{"name":"MongoDB Protocol","schemes":["mongodb"]},{"name":"MongoDB Compass Protocol","schemes":["compass"]}],"distributions":{"default":"compass","compass":{"name":"mongodb-compass","productName":"MongoDB Compass","bundleId":"com.mongodb.compass","plugins-directory":".mongodb/compass/plugins","upgradeCode":"0152273D-2F9F-4913-B67F-0FCD3557FFD1"},"compass-readonly":{"name":"mongodb-compass-readonly","productName":"MongoDB Compass Readonly","bundleId":"com.mongodb.compass.readonly","plugins-directory":".mongodb/compass-readonly/plugins","upgradeCode":"2176EC1D-EF71-49D4-B3B4-9E15B289D79A","readonly":true},"compass-isolated":{"name":"mongodb-compass-isolated","productName":"MongoDB Compass Isolated Edition","bundleId":"com.mongodb.compass.isolated","plugins-directory":".mongodb/compass-isolated/plugins","upgradeCode":"516F2BE1-4417-4F31-BAA1-364A59404775","isolated":true}},"build":{"win32":{"icon":"app-icons/win32/mongodb-compass.ico","favicon_url":"https://compass.mongodb.com/favicon.ico","loading_gif":"app-icons/win32/mongodb-compass-installer-loading.gif","background":"app-icons/win32/background.jpg","banner":"app-icons/win32/banner.jpg"},"darwin":{"icon":"app-icons/darwin/mongodb-compass.icns","dmg_background":"app-icons/darwin/background.png","app_category_type":"public.app-category.productivity"},"linux":{"icon":"app-icons/linux/mongodb-compass.png","deb_section":"Databases","rpm_categories":["Office","Database","Building","Debugger","IDE","GUIDesigner","Profiling"]}},"asar":{"unpack":["**/@mongosh/node-runtime-worker-thread/**","**/interruptor/**","**/kerberos/**","**/snappy/**","**/mongodb-client-encryption/index.js","**/mongodb-client-encryption/package.json","**/mongodb-client-encryption/lib/**","**/mongodb-client-encryption/build/**","**/bl/**","**/nan/**","**/node_modules/bindings/**","**/file-uri-to-path/**","**/bson/**","**/os-dns-native/**","**/debug/**","**/ms/**","**/bindings/**","**/ipv6-normalize/**","**/node-addon-api/**","**/win-export-certificate-and-key/**","**/macos-export-certificate-and-key/**","**/system-ca/**"]},"rebuild":{"onlyModules":["interruptor","keytar","kerberos","os-dns-native","win-export-certificate-and-key","macos-export-certificate-and-key"]},"macosEntitlements":"./scripts/macos-entitlements.xml"}},"scripts":{"install":"node scripts/download-akzidenz.js","electron-rebuild":"electron-rebuild --only kerberos,keytar,interruptor,os-dns-native,win-export-certificate-and-key,macos-export-certificate-and-key --force --prebuild-tag-prefix not-real-prefix-to-force-rebuild","prestart":"npm run electron-rebuild","start":"npm run webpack serve -- --mode development","test-electron":"npm run test-main && npm run test-renderer","test-main":"xvfb-maybe electron-mocha --no-sandbox \\"./src/main/**/*.spec.*\\"  \\"./src/main/**/*.test.*\\"","test-renderer":"xvfb-maybe electron-mocha --no-sandbox --config ./.mocharc.renderer.js \\"./src/app/**/*.spec.js\\"","check":"npm run lint && npm run depcheck","prewebpack":"rimraf ./build","webpack":"webpack-compass","compile":"npm run webpack -- --mode production","release":"node release/index.js","package-compass":"hadron-build release","test-release-tasks":"cross-env MONGODB_DOWNLOADS_AWS_ACCESS_KEY_ID=\'\' mocha \\"./release/*.spec.js\\"","upload":"hadron-build upload","evergreen-expansions":"hadron-build info --format=yaml --flatten > expansions.yml","build-info":"hadron-build info","jsx":"babel ./src --out-dir ./lib","lint":"eslint","depcheck":"depcheck","test-ci":"npm run test-release-tasks","test-ci-electron":"npm run test-electron","posttest-ci":"node ../../scripts/killall-mongo.js"},"repository":{"type":"git","url":"https://github.com/mongodb-js/compass.git"},"bugs":{"url":"https://jira.mongodb.org/projects/COMPASS/issues","email":"compass@mongodb.com"},"dependencies":{"@mongodb-js/compass-components":"^0.13.0","@mongosh/node-runtime-worker-thread":"^1.2.3","clipboard":"^2.0.6","kerberos":"^2.0.0","keytar":"^7.7.0","os-dns-native":"^1.2.0","mongodb-client-encryption":"^2.0.0","system-ca":"^1.0.2"},"devDependencies":{"@mongodb-js/compass-aggregations":"^8.22.0","@mongodb-js/compass-app-stores":"^5.21.0","@mongodb-js/compass-auto-updates":"^3.21.0","@mongodb-js/compass-collection":"^3.24.0","@mongodb-js/compass-collection-stats":"^6.21.0","@mongodb-js/compass-connect":"^7.21.0","@mongodb-js/compass-crud":"^12.22.0","@mongodb-js/compass-database":"^2.21.0","@mongodb-js/compass-databases-collections":"^0.22.0","@mongodb-js/compass-deployment-awareness":"^11.21.0","@mongodb-js/compass-explain-plan":"^5.24.0","@mongodb-js/compass-export-to-language":"^7.21.0","@mongodb-js/compass-field-store":"^7.21.0","@mongodb-js/compass-find-in-page":"^3.21.0","@mongodb-js/compass-home":"^5.24.0","@mongodb-js/compass-import-export":"^6.22.0","@mongodb-js/compass-indexes":"^4.23.0","@mongodb-js/compass-instance":"^3.21.0","@mongodb-js/compass-logging":"^0.10.0","@mongodb-js/compass-metrics":"^4.21.0","@mongodb-js/compass-plugin-info":"^3.21.0","@mongodb-js/compass-query-bar":"^7.20.0","@mongodb-js/compass-query-history":"^8.21.0","@mongodb-js/compass-saved-aggregations-queries":"^0.5.0","@mongodb-js/compass-schema":"^5.21.0","@mongodb-js/compass-schema-validation":"^5.22.0","@mongodb-js/compass-server-version":"^5.21.0","@mongodb-js/compass-serverstats":"^15.21.0","@mongodb-js/compass-shell":"^2.22.0","@mongodb-js/compass-sidebar":"^4.22.0","@mongodb-js/compass-ssh-tunnel-status":"^6.21.0","@mongodb-js/dl-center":"^1.0.1","@mongodb-js/eslint-config-compass":"^0.7.0","@mongodb-js/hadron-plugin-manager":"^6.12.0","@mongodb-js/mocha-config-compass":"^0.10.0","@mongodb-js/prettier-config-compass":"^0.5.0","@mongodb-js/tsconfig-compass":"^0.6.0","@mongodb-js/webpack-config-compass":"^0.7.0","@octokit/rest":"^18.5.3","@types/analytics-node":"^3.1.7","ampersand-model":"^8.0.1","ampersand-rest-collection":"^6.0.0","ampersand-router":"^3.0.2","ampersand-view":"^9.0.0","analytics-node":"^5.1.2","app-migrations":"^2.10.0","async":"^3.2.0","bootstrap":"https://github.com/twbs/bootstrap/archive/v3.3.5.tar.gz","chai":"^4.3.4","chalk":"^4.1.1","clean-stack":"^2.0.0","cli-ux":"^5.5.1","compass-preferences-model":"^1.21.0","compass-user-model":"^1.21.0","cross-env":"^7.0.3","darkreader":"^4.9.40","debug":"4.3.0","debug-menu":"^0.3.0","depcheck":"^1.4.1","electron":"^13.5.1","electron-devtools-installer":"^3.2.0","electron-mocha":"^10.1.0","electron-rebuild":"^3.2.7","electron-squirrel-startup":"^1.0.0","ensure-error":"^3.0.1","eslint":"^7.25.0","execa":"^5.1.1","fs-extra":"^9.1.0","hadron-app":"^4.21.0","hadron-app-registry":"^8.10.0","hadron-auto-update-manager":"^4.8.0","hadron-build":"^24.15.0","hadron-ipc":"^2.9.0","jquery":"^3.5.0","listr":"^0.14.3","local-links":"^1.4.0","lodash":"^4.17.21","make-fetch-happen":"^8.0.14","marky":"^1.2.1","mocha":"^8.4.0","mongodb":"^4.4.0","mongodb-connection-model":"^21.15.0","mongodb-data-service":"^21.19.0","mongodb-instance-model":"^11.21.0","mongodb-log-writer":"^1.1.4","mongodb-url":"^3.0.3","nock":"^13.0.11","node-notifier":"^9.0.1","pkg-up":"^3.1.0","qs":"^6.0.4","react":"^16.14.0","react-dom":"^16.14.0","reflux":"^0.4.1","rimraf":"^3.0.2","semver":"^7.3.5","sinon":"^8.1.1","sinon-chai":"^3.7.0","storage-mixin":"^4.13.0","uuid":"^3.0.0","web-vitals":"^2.1.2"},"optionalDependencies":{"vscode-windows-registry":"1.0.2","macos-export-certificate-and-key":"^1.1.1","win-export-certificate-and-key":"^1.1.1"},"engines":{"node":"^14.17.5","npm":">=7.0.0"}}')}},e=>(e.O(0,[42,842,604,671,179,640,492,127,934,570,229,519,694,281,586,79,11,709,396,449,796,164,558],(()=>(81709,e(e.s=81709)))),e.O())])}));